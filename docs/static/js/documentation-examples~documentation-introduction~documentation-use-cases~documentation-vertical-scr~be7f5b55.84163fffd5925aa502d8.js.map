{"version":3,"sources":["/Users/naver/Labs/react-window-table/src/core/components/WindowTableCore/WindowTableCore.module.scss","webpack:///./src/core/components/WindowTableCore/WindowTableCore.module.scss?83f9","/Users/naver/Labs/react-window-table/src/core/hooks/useMetadata.ts","/Users/naver/Labs/react-window-table/src/core/hooks/useHelpers.ts","/Users/naver/Labs/react-window-table/src/core/hooks/useCachedItem.ts","/Users/naver/Labs/react-window-table/src/core/hooks/useClassNames.ts","/Users/naver/Labs/react-window-table/src/core/hooks/useGuidelines.ts","/Users/naver/Labs/react-window-table/src/core/hooks/useComputedStyle.ts","/Users/naver/Labs/react-window-table/src/core/hooks/useContainerInfo.ts","/Users/naver/Labs/react-window-table/src/core/hooks/useScrollbarSize.ts","/Users/naver/Labs/react-window-table/src/core/hooks/useSections.ts","/Users/naver/Labs/react-window-table/src/core/hooks/useTheme.ts","/Users/naver/Labs/react-window-table/src/core/components/WindowTableCore/index.ts","/Users/naver/Labs/react-window-table/src/core/components/WindowTableCore/WindowTableCore.tsx","/Users/naver/Labs/react-window-table/src/core/components/WindowTable/WindowTable.tsx","/Users/naver/Labs/react-window-table/src/core/components/WindowTable/index.ts","/Users/naver/Labs/react-window-table/src/core/index.ts"],"names":["exports","module","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","locals","root","center","sticky","guidelines","content","options","hmr","transform","insertInto","undefined","update","hot","accept","newContent","a","b","key","idx","Error","dispose","ItemPosition","useMetadataFixed","metadata","clientSize","fillerType","minVisibleScrollViewWidth","totalSize","total","size","preSize","pre","postSize","post","mass","useMemo","meta","Object","keys","reduce","accum","value","_value","objectSpread","offset","offset_","localOffset","defineProperty","count","range","mid","contentSize","filler","lastKey","useMetadata","ItemType","ScrollDirection","preCount","postCount","_sizes","position","getSize","getPosition","itemIndex","PRE","MID","POST","startOffset","sizes","useRangeHelper","_ref","fixedTopCount","fixedBottomCount","fixedLeftCount","fixedRightCount","contentWidth","contentHeight","getItemCount","getItemMetadata","getStartIndex","itemType","ROW","low","high","middle","Math","floor","currentOffset","findNearestItem","getStopIndex","startIndex","maxOffset","postfixCount","itemMetadata","currOffset","stopIndex","itemCount","useHelpers","props","columnCount","columnWidth","rowCount","rowHeight","_innerWidth","innerWidth","_innerHeight","innerHeight","scrollbarWidth","scrollbarHeight","fillerColumn","fillerRow","_useDefaultProps","minVisibleScrollViewHeight","overscanCount","useDefaultProps","_columnMetadata","_rowMetadata","scrollWidth","scrollHeight","_useMemo","scrollbarX","scrollbarY","_useMemo2","slicedToArray","clientWidth","clientHeight","columnMetadata","rowMetadata","_useMemo3","COLUMN","dict","_useRangeHelper","_overscanCount","getRange","scrollDirection","FORWARD","useCachedItem","classNames","cached__tmp","useRef","cached","current","console","log","children","getItemContent","rowIndex","columnIndex","className","style","isFiller","createElement","colIndex","rowTypes","colTypes","_getItemStyle","row","column","top","height","left","width","overflow","getItemStyle","_rowIndex","_colIndex","CELL","concat","toConsumableArray","map","e","ROW_EVEN","ROW_ODD","COL_EVEN","COL_ODD","join","CLASSNAMES","COL_FIRST","COL_LAST","ROW_FIRST","ROW_LAST","SECTION","SECTION_TOP","SECTION_LEFT","SECTION_RIGHT","SECTION_BOTTOM","SECTION_CENTER","GUIDELINE","GUIDELINE_TOP","GUIDELINE_LEFT","GUIDELINE_RIGHT","GUIDELINE_BOTTOM","SCROLL_TOP","SCROLL_LEFT","SCROLL_RIGHT","SCROLL_BOTTOM","IS_SCROLLING","IS_NOT_SCROLLING","useClassNames","hash","JSON","stringify","useGuidelines","bottom","right","filter","noop","getComputedStyle","target","attributes","_ref$offsetWidth","offsetWidth","_ref$offsetHeight","offsetHeight","_ref$clientWidth","_ref$clientHeight","computed","length","window","attribute","pattern","match","parseFloat","replace","useComputedStyle","watch","arguments","targetRef","signature","HTMLElement","dummy","element","clear","document","body","removeChild","css","appendChild","useTarget","_useState","useState","_useState2","setStyle","styleRef","requestId","useEffect","sizeCheck","cancelAnimationFrame","computedStyle","requestAnimationFrame","toString","DEFAULT_HEIGHT","useContainerInfo","containerStyle","theme","ref","_useContainerStyle","objectStyles","objectStylesHash","_useComputedStyle","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","useContainerStyle","_useContainerStyle2","containerClassName","borderTop","borderLeft","borderRight","borderBottom","parentElement","containerWidth","_useMemo4","useScrollbarSize","useItems","rowRange","colRange","getCachedStyle","_rowRange","rowStartIndex","rowStopIndex","_colRange","columnStartIndex","columnStopIndex","items","rowType","colType","_getCachedStyle","useSections","middle_v","max","min","middle_h","sections","styles","inner","useTheme","dotClassNames","_","_css","boxSizing","background","opacity","WindowTableCore","isScrolling","scrollTop","scrollLeft","verticalScrollDirection","horizontalScrollDirection","_useState2$","setScroll","timeoutID","clearTimeout","containerInfo","_useScrollbarSize","_useScrollbarSize2","helpers","_getRange","_getRange2","_getRange3","_getRange4","_useSections","statusClassName","react","onScroll","event","_event$currentTarget","currentTarget","nextScrollTop","nextScrollLeft","scroll","BACKWARD","setTimeout","section","guideline","replacer","serialize","useEventHandlers","events","rows","click","mouseover","mouseout","eventsHash","entries","k","getAttrFromClosest","source","attrName","getAttribute","closest","handlerFactory","details","handles","_ref2","selector","handler","forEach","matches","data","org","getEventTarget","allEvts","_ref3","_ref4","eventName","handlerName","toLowerCase","WindowTable","_useColumns","columns","name","render","index","useColumns","_useColumns2","_row","Array","isArray","prev","arr","getValue","_isHeader","useRows","hover","setHover","timer","ownEvents",".cell[data-row-index][data-column-index]","ui","innerHTML","styleNode","type","styleText","createTextNode",".cell[data-row-index]","eventHandlers","renderHeader","components_WindowTableCore","assign","_ref5","data-row-index","data-column-index","header","renderCell","d","__webpack_exports__","components_WindowTable","Core"],"mappings":"uQAAAA,EAAAC,EAAAD,QAA2BE,EAAQ,4CAARA,EAA6D,IAKxFC,KAAA,CAAcF,EAAAG,EAAS,4oCAA0oC,IAAUC,QAAA,EAAAC,QAAA,yGAAAC,MAAA,GAAAC,SAAA,mXAAkgBC,KAAA,8BAAAC,eAAA,8rBAAqvBC,WAAA,MAGl6EX,EAAAY,OAAA,CACAC,KAAA,oCACAC,OAAA,sCACAC,OAAA,sCACAC,WAAA,gICXA,IAAAC,EAAcf,EAAQ,8LAEtB,kBAAAe,MAAA,EAA4ChB,EAAAG,EAASa,EAAA,MAOrD,IAAAC,EAAA,CAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAC,GAEAC,EAAarB,EAAQ,+CAARA,CAAiEe,EAAAC,GAE9ED,EAAAL,SAAAX,EAAAD,QAAAiB,EAAAL,QAGAX,EAAAuB,IAAAC,OAAmB,6LAA0M,WAC7N,IAAAC,EAAmBxB,EAAQ,8LAiB3B,GAfA,kBAAAwB,MAAA,EAAoDzB,EAAAG,EAASsB,EAAA,OAE7D,SAAAC,EAAAC,GACA,IAAAC,EAAAC,EAAA,EAEA,IAAAD,KAAAF,EAAA,CACA,IAAAC,GAAAD,EAAAE,KAAAD,EAAAC,GAAA,SACAC,IAGA,IAAAD,KAAAD,EAAAE,IAEA,WAAAA,EAVA,CAWGb,EAAAL,OAAAc,EAAAd,QAEH,UAAAmB,MAAA,uDAEAR,EAAAG,KAGAzB,EAAAuB,IAAAQ,QAAA,WAAgCT,8DCxCpBU,mcA2EZ,SAASC,EAAiBC,EAAoBC,EAAoBC,EAAiBC,GACjF,IAAMC,EAAYJ,EAASK,MAAMC,KAC3BC,EAAUP,EAASQ,IAAIF,KACvBG,EAAWT,EAASU,KAAKJ,KACzBK,EAAOC,kBAAQ,WACnB,IAAID,EAAOV,EAAaG,EASxB,OARIO,EAAO,IACTA,GAAQ,GAINJ,EAAUE,GAAYN,GAA6B,GAAKF,IAC1DU,EAAO,GAEFA,GACN,CAACV,EAAYG,EAAWG,EAASE,EAAUN,IAM9C,OAAOS,kBAAQ,WACb,GAAID,GAAQ,IACVX,EAAW,CACTa,KAAMC,OAAOC,KAAKf,EAASa,MAAMG,OAAO,SAACC,EAAOvB,GAC9C,IAAIwB,EAAQlB,EAASa,KAAKnB,GACtByB,EAAML,OAAAM,EAAA,EAAAN,CAAA,GACLI,EADK,CAGRG,OAAQH,EAAMI,QAEdC,YAAaL,EAAMI,UAErB,OAAOR,OAAAM,EAAA,EAAAN,CAAA,GACFG,EADLH,OAAAU,EAAA,EAAAV,CAAA,GAEGpB,EAAMyB,KAER,IAEHX,IAAK,CAAEiB,MAAO,EAAGnB,KAAM,EAAGoB,MAAO,CAAC,EAAG,IAErCC,IAAIb,OAAAM,EAAA,EAAAN,CAAA,GACCd,EAASK,OAKdK,KAAM,CAAEe,MAAO,EAAGnB,KAAM,EAAGoB,MAAO,CAAC1B,EAASK,MAAMoB,MAAO,IACzDpB,MAAOL,EAASK,OAGdM,EAAO,GACT,IAAmB,IAAfT,GAAsC,WAAfA,EAAyB,CAElD,IAAM0B,EAAc5B,EAASK,MAAMC,KAAOK,EAC1CX,EAAQc,OAAAM,EAAA,EAAAN,CAAA,GACHd,EADG,CAINa,KAAKC,OAAAM,EAAA,EAAAN,CAAA,GACAd,EAASa,KADVC,OAAAU,EAAA,EAAAV,CAAA,GAEDd,EAASK,MAAMoB,MAAQ,CACtBnB,KAAMK,EACNY,YAAavB,EAASK,MAAMC,KAC5Be,OAAQrB,EAASK,MAAMC,KAEvBuB,QAAQ,KAGZxB,MAAMS,OAAAM,EAAA,EAAAN,CAAA,GACDd,EAASK,MADT,CAEHoB,MAAOzB,EAASK,MAAMoB,MAAQ,EAC9BnB,KAAMsB,IAERD,IAAIb,OAAAM,EAAA,EAAAN,CAAA,GACCd,EAASK,MADX,CAGDoB,MAAOzB,EAASK,MAAMoB,MAAQ,EAC9BC,MAAO,CAAC,EAAG1B,EAASK,MAAMoB,MAAQ,GAClCnB,KAAMsB,WAGL,GAAmB,YAAf1B,EAA0B,CACnC,IAAM0B,EAAc5B,EAASK,MAAMC,KAAOK,EACpCmB,EAAU9B,EAASK,MAAMoB,MAAQ,EACvCzB,EAAQc,OAAAM,EAAA,EAAAN,CAAA,GACHd,EADG,CAENa,KAAKC,OAAAM,EAAA,EAAAN,CAAA,GACAd,EAASa,KADVC,OAAAU,EAAA,EAAAV,CAAA,GAEDgB,EAFChB,OAAAM,EAAA,EAAAN,CAAA,GAGGd,EAASa,KAAKiB,GAHjB,CAKAxB,KAAMN,EAASa,KAAKiB,GAASxB,KAAOK,MAMxCN,MAAMS,OAAAM,EAAA,EAAAN,CAAA,GACDd,EAASK,MADT,CAEHC,KAAMsB,IAGRD,IAAIb,OAAAM,EAAA,EAAAN,CAAA,GACCd,EAASK,MADX,CAEDC,KAAMsB,MAUhB,OAAO5B,GACN,CAACA,EAAUW,EAAMT,kMA/LVJ,qDAoMGiC,ICpMHC,EAOAC,ED6LGF,EApKf,SAAqBN,EAAenB,EAAyB4B,EAAkBC,GAC7E,OAAOvB,kBAAQ,WAiBb,IAjBmB,IAAAwB,EAcfC,EAbEC,EAA0B,oBAAThC,EAAsBA,EAAO,kBAAMA,GAEpDiC,EAAc,SAACC,GACnB,OAAIA,EAAYN,EACPpC,EAAa2C,IACXD,EAAYf,EAAQU,EACtBrC,EAAa4C,IAEf5C,EAAa6C,MAGhB9B,EAAY,GACdQ,EAAS,EAETuB,EAAc,EACZC,GAAKT,EAAA,GAAAtB,OAAAU,EAAA,EAAAV,CAAAsB,EAAMtC,EAAa2C,IAAM,GAAzB3B,OAAAU,EAAA,EAAAV,CAAAsB,EAA6BtC,EAAa4C,IAAM,GAAhD5B,OAAAU,EAAA,EAAAV,CAAAsB,EAAoDtC,EAAa6C,KAAO,GAAxEP,GACFI,EAAY,EAAGA,EAAYf,EAAOe,GAAa,EAAG,CACzD,IAAMlC,EAAOgC,EAAQE,GACjBH,IAAaE,EAAYC,KAC3BH,EAAWE,EAAYC,GACvBI,EAAcvB,GAEhB,IAAME,EAAcF,EAASuB,EACvBtB,EAAUe,IAAavC,EAAa6C,KAAOpB,EAAcF,EAI/DR,EAAK2B,GAAa,CAAElC,OAAMe,OAAQC,EAASC,cAAaD,QAASD,GACjEwB,EAAMR,IAAa/B,EACnBe,GAAUf,EAEZ,MAAO,CACLO,OACAL,IAAK,CAAEiB,MAAOS,EAAU5B,KAAMuC,EAAM/C,EAAa2C,KAAMf,MAAO,CAAC,EAAGQ,IAClEP,IAAK,CAAErB,KAAMuC,EAAM/C,EAAa4C,KAAMhB,MAAO,CAACQ,EAAUT,EAAQU,IAChEzB,KAAM,CAAEe,MAAOU,EAAW7B,KAAMuC,EAAM/C,EAAa6C,MAAOjB,MAAO,CAACD,EAAQU,EAAWV,IACrFpB,MAAO,CAAEC,KAAMe,EAAQI,QAAOC,MAAO,CAAC,EAAGD,MAE1C,CAACA,EAAOnB,KCpCb,SAASwC,EAATC,GAqBG,IApBDC,EAoBCD,EApBDC,cACAC,EAmBCF,EAnBDE,iBACAC,EAkBCH,EAlBDG,eACAC,EAiBCJ,EAjBDI,gBACAC,EAgBCL,EAhBDK,aACAC,EAeCN,EAfDM,cACAC,EAcCP,EAdDO,aACAC,EAaCR,EAbDQ,gBAEAjB,EAWCS,EAXDT,QA8HA,OAlHgB1B,kBAAQ,WAkGtB,MAAO,CACL4C,cA3DoB,SAACC,EAAoBpC,GACzC,IAAMmB,EAAYiB,IAAazB,EAAS0B,IAAMV,EAAgBE,EAM9D,OAhCsB,SAACO,EAAoBpC,GAU3C,IATA,IAAIsC,EAAM,EACNC,EAAON,EAAaG,GAAY,EAQ7BE,GAAOC,GAAM,CAClB,IAAMC,EAASF,EAAMG,KAAKC,OAAOH,EAAOD,GAAO,GACzCK,EAAgBT,EAAgBE,EAAUI,GAAQvC,QACxD,GAAI0C,IAAkB3C,EACpB,OAAOwC,EACEG,EAAgB3C,EACzBsC,EAAME,EAAS,EACNG,EAAgB3C,IACzBuC,EAAOC,EAAS,GAIpB,OAAOF,EAAM,EAAIA,EAAM,EAAI,EAUpBM,CAAgBR,EAAUpC,EALZkC,EAAgBE,EAAUjB,GAKQnB,SAqDvD6C,aAlDmB,SAACT,EAAoBU,EAAoB9C,GAC5D,IAAI+C,GAAaX,IAAazB,EAAS0B,IAAML,EAAgBD,GAAgB/B,EACvEgD,EAAeZ,IAAazB,EAAS0B,IAAMT,EAAmBE,EAChEkB,EAAe,IAEjBD,GAAa9B,EAAQmB,GAA0B,EAAhBY,IAQjC,IALA,IAAMC,EAAef,EAAgBE,EAAUU,GAC3CI,EAAaD,EAAajD,OAASiD,EAAahE,KAChDkE,EAAYL,EACVM,EAAYnB,EAAaG,GAExBe,EAAYC,EAAY,GAAKF,EAAaH,GAE/CG,GAAchB,EAAgBE,EAD9Be,GAAa,GACsClE,KAcrD,OAAOkE,KAuBR,CACDxB,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAjB,6LAzKQN,uPAOAC,mEAoWGyC,MAtKf,SAAoBC,GAAqB,IAErCC,EAUED,EAVFC,YACAC,EASEF,EATFE,YACAC,EAQEH,EARFG,SACAC,EAOEJ,EAPFI,UACYC,EAMVL,EANFM,WACaC,EAKXP,EALFQ,YACAC,EAIET,EAJFS,eACAC,EAGEV,EAHFU,gBACAC,EAEEX,EAFFW,aACAC,EACEZ,EADFY,UAXqCC,EAtBzC,SAAyBb,GACvB,OAAO/D,kBAAQ,WACb,MAAO,CACLoC,gBAAiB2B,EAAM3B,cACvBE,iBAAkByB,EAAMzB,eACxBC,kBAAmBwB,EAAMxB,gBACzBF,mBAAoB0B,EAAM1B,iBAC1B9C,4BAA6BwE,EAAMxE,0BACnCsF,6BAA8Bd,EAAMc,2BACpCC,gBAAiBf,EAAMe,gBAExB,CACDf,EAAM3B,cACN2B,EAAMzB,eACNyB,EAAMxB,gBACNwB,EAAM1B,iBACN0B,EAAMxE,0BACNwE,EAAMc,2BACNd,EAAMe,gBA0BJC,CAAgBhB,GAPlB3B,EAfqCwC,EAerCxC,cACAE,EAhBqCsC,EAgBrCtC,eACAC,EAjBqCqC,EAiBrCrC,gBACAF,EAlBqCuC,EAkBrCvC,iBACA9C,EAnBqCqF,EAmBrCrF,0BACAsF,EApBqCD,EAoBrCC,2BACAC,EArBqCF,EAqBrCE,cAGEE,EAAkB7D,EAAY6C,EAAaC,EAAa3B,EAAgBC,GACxE0C,EAAe9D,EAAY+C,EAAUC,EAAW/B,EAAeC,GAE7D6C,EAAcF,EAAgBvF,MAAMC,KACpCyF,EAAeF,EAAaxF,MAAMC,KA5BD0F,EA8BsBpF,kBAAQ,WACnE,IAAIqE,EAAaD,EACbG,EAAcD,EAEd9B,EAAe6B,EAEf5B,EAAgB8B,EACdc,EAAa7C,EAAe0C,EAC9BI,EAAa7C,EAAgB0C,EA0BjC,OAxBA3C,GAAgB8C,EAAad,EAAiB,EAC9C/B,GAAiB4C,EAAaZ,EAAkB,EAM5CY,IAAeC,GAAc7C,EAAgB0C,IAC/CG,GAAa,EACb9C,GAAgBgC,GAGG,WAAjBE,GAA6BQ,EAAc1C,IAC7CA,EAAe0C,EAEfb,EAAaa,GAAeI,EAAad,EAAiB,IAG1C,WAAdG,GAA0BQ,EAAe1C,IAC3CA,EAAgB0C,EAEhBZ,EAAcY,GAAgBE,EAAaZ,EAAkB,IAGxD,CAACjC,EAAcC,EAAe4B,EAAYE,IAChD,CAACH,EAAaE,EAAcY,EAAaC,EAAcX,EAAgBC,EAAiBC,EAAcC,IAjElEY,EAAArF,OAAAsF,EAAA,EAAAtF,CAAAkF,EAAA,GA8BhCK,EA9BgCF,EAAA,GA8BnBG,EA9BmBH,EAAA,GA8BLlB,EA9BKkB,EAAA,GA8BOhB,EA9BPgB,EAAA,GAmEnCI,EAAiBxG,EAAiB6F,EAAiBS,EAAaf,EAAcnF,GAC9EqG,EAAczG,EAAiB8F,EAAcS,EAAcf,EAAWE,GApEnCgB,EA6EY7F,kBAAQ,WACzD,IAAMgE,EAAc2B,EAAelG,MAAMoB,MACnCqD,EAAW0B,EAAYnG,MAAMoB,MAuBnC,MAAO,CACL8B,gBAvBsB,SAACE,EAAoBjB,GAC3C,OAAQiB,IAAazB,EAAS0E,OAASH,EAAiBC,GAAa3F,KAAK2B,IAuB1Ec,aApBmB,SAACG,GAAD,OAAyBA,IAAazB,EAAS0B,IAAMoB,EAAWF,GAqBnFtC,QAnBc,SAACmB,EAAoBhC,GACnC,IAAMkF,GAAQlD,IAAazB,EAAS0E,OAASH,EAAiBC,GAAa3F,KACrE4D,EAAYhB,IAAazB,EAAS0E,OAAS9B,EAAcE,EAC3DxE,EAAO,EACX,GAAImB,EAAQ,EACV,IAAK,IAAIe,EAAY,EAAGA,EAAYf,EAAOe,GAAa,EACtDlC,GAAQqG,EAAKnE,GAAWlC,UAG1B,IAAK,IAAIkC,EAAYiC,EAAY,EAAGjC,GAAaiC,EAAYhD,EAAOe,GAAa,EAC/ElC,GAAQqG,EAAKnE,GAAWlC,KAG5B,OAAOA,KAQR,CAACiG,EAAgBC,IA9BZjD,EA7E+BkD,EA6E/BlD,gBAAiBD,EA7EcmD,EA6EdnD,aAAchB,EA7EAmE,EA6EAnE,QA7EAsE,EA6GC9D,EAAe,CAErDE,cAAewD,EAAYhG,IAAIiB,MAE/BwB,iBAAkBuD,EAAY9F,KAAKe,MAEnCyB,eAAgBqD,EAAe/F,IAAIiB,MAEnC0B,gBAAiBoD,EAAe7F,KAAKe,MAErC2B,aAAcmD,EAAe3E,aAAeyE,EAE5ChD,cAAemD,EAAY5E,aAAe0E,EAC1ChD,eACAC,kBAEAjB,YAhBMkB,EA7G+BoD,EA6G/BpD,cAAeU,EA7GgB0C,EA6GhB1C,aAuBjB2C,EAA0C,kBAAlBnB,EAA6BA,EAAgB,EAErEoB,EAAWlG,kBAAQ,WACvB,OAAO,SAAC6C,EAAoBpC,EAAgB0F,GAC1C,IAAM5C,EAAaX,EAAcC,EAAUpC,GAErCmD,EAAYN,EAAaT,EAAUU,EAAY9C,GAErD,MAAO,CACL8C,GAAc4C,IAAoB9E,EAAgB+E,QAAU,EAAIH,GAEhErC,GAAauC,IAAoB9E,EAAgB+E,QAAUH,EAAiB,MAG/E,CAACrD,EAAeU,EAAc2C,IAEjC,MAAO,CACLtD,kBAGAgD,iBACAC,cACAV,cACAC,eACAM,cACAC,eACArB,aACAE,cAGA2B,aCrRWG,MAjFf,SAAuBtC,GACrB,IAAMpB,EAAkBoB,EAAMpB,gBACtBqB,EAA8DD,EAA9DC,YAAaC,EAAiDF,EAAjDE,YAAaC,EAAoCH,EAApCG,SAAUC,EAA0BJ,EAA1BI,UAAWmC,EAAevC,EAAfuC,WAoBjDC,EAAcC,iBAAY,IAE1BC,EAASzG,kBAAQ,WAKrB,OAJAuG,EAAYG,QAAU,GAEtBC,QAAQC,IAAI,sBAAuB,qBAE5BL,GACN,CAACvC,EAAaC,EAAaC,EAAUC,EAAWJ,EAAM8C,SAAUlE,IAE3DkE,EAAa9C,EAAb8C,SAEFC,EAAiB9G,kBAAQ,WAC7B,MAAwB,oBAAb6G,EACF,SAACE,EAAkBC,EAAqBlI,EAAamI,EAAmBC,EAAYC,GAEzF,OAAOC,wBAAcP,EAAU,CAC7BG,cACAD,WACAE,YACAnI,MACAoI,QACAC,cAIC,kBAAM,OACZ,CAACN,IA6BJ,OAzBuB7G,kBAAQ,WAC7B,OAAO,SAAC+G,EAAkBM,EAAkBC,EAAeC,GACzD,IAAMzI,EAAMiI,EAAW,IAAMM,EAC7B,IAAKZ,EAAOC,QAAQ5H,GAAM,KAAA0I,EArDT,SAACT,EAAkBC,GACtC,IAAMS,EAAM9E,EAAgBvB,EAAS0B,IAAKiE,GACpCW,EAAS/E,EAAgBvB,EAAS0E,OAAQkB,GAE1CE,EAAQ,CAAEzF,SAAU,WAAYkG,IAAKF,EAAIhH,OAAQmH,OAAQH,EAAI/H,KAAMmI,KAAMH,EAAOjH,OAAQqH,MAAOJ,EAAOhI,MAO5G,OALI+H,EAAIxG,QAAUyG,EAAOzG,UAEvBiG,EAAMa,SAAW,UAGZ,CACLZ,SAAUO,EAAOzG,QAAUwG,EAAIxG,OAC/B8F,SAAUU,EAAIxG,QAAU,EAAI8F,EAC5BC,YAAaU,EAAOzG,QAAU,EAAI+F,EAClCE,SAuC2Ec,CAAajB,EAAUM,GAAxFH,EADgBM,EAChBN,MAAOC,EADSK,EACTL,SAAoBc,EADXT,EACCT,SAAkCmB,EADnCV,EACsBR,YACxClI,EAAMiI,EAAW,IAAMM,EACvBJ,EAAY,CAChBX,EAAW6B,MADKC,OAAAlI,OAAAmI,EAAA,EAAAnI,CAGboH,EAASgB,IAAI,SAACC,GAAD,MAAe,OAASA,KAHxBrI,OAAAmI,EAAA,EAAAnI,CAIbqH,EAASe,IAAI,SAACC,GAAD,MAAe,OAASA,KAJxB,CAKhBxB,EAAW,GAAK,EAAIT,EAAWkC,SAAWlC,EAAWmC,QACrDpB,EAAW,GAAK,EAAIf,EAAWoC,SAAWpC,EAAWqC,UAErDC,KAAK,KACPnC,EAAOC,QAAQ5H,GAAO,CACpBmI,YACA/I,QAAS4I,EAAemB,EAAWC,EAAWpJ,EAAKmI,EAAWC,EAAOC,GACrED,SAGJ,OAAOT,EAAOC,QAAQ5H,KAEvB,CAAC2H,EAAOC,QAASI,EAAgBnE,EAAiB2D,KCXjDuC,EAAa,CACjBV,KAAM,OAENQ,QAAS,UACTD,SAAU,WACVI,UAAW,YACXC,SAAU,WAGVN,QAAS,UACTD,SAAU,WACVQ,UAAW,YACXC,SAAU,WAEVC,QAAS,UACTC,YAAa,cACbC,aAAc,eACdC,cAAe,gBACfC,eAAgB,iBAChBC,eAAgB,iBAEhBC,UAAW,YACXC,cAAe,gBACfC,eAAgB,iBAChBC,gBAAiB,kBACjBC,iBAAkB,mBAElBC,WAAY,aACZC,YAAa,cACbC,aAAc,eACdC,cAAe,gBAEfC,aAAc,eACdC,iBAAkB,oBAyBLC,MAnBf,SAAuB7D,GACrB,IAAM8D,EAAOpK,kBAAQ,WACnB,OAAOqK,KAAKC,UAAUhE,IACrB,CAACA,IAEJ,OAAOtG,kBAAQ,WACb,OAAOE,OAAOC,KAAKmG,GAAc,IAAIlG,OACnC,SAACC,EAAOvB,GACN,OAAOoB,OAAAM,EAAA,EAAAN,CAAA,GACFG,EADLH,OAAAU,EAAA,EAAAV,CAAA,GAEGpB,EAAMwH,EAAWxH,MAJjBoB,OAAAM,EAAA,EAAAN,CAAA,GAOA2I,KAGN,CAACuB,KC5FSG,MA7Bf,SAAuB3E,EAAkBD,EAAqBF,EAAkBC,EAAmBY,GACjG,OAAOtG,kBAAQ,WACb,IAAM2H,EAAM/B,EAAYhG,IAAIiB,OAAS+E,EAAYhG,IAAIF,KAC/CmI,EAAOlC,EAAe/F,IAAIiB,OAAS8E,EAAe/F,IAAIF,KACtD8K,EAAS5E,EAAY9F,KAAKe,OAAS+E,EAAY9F,KAAKJ,KACpD+K,EAAQ9E,EAAe7F,KAAKe,OAAS8E,EAAe7F,KAAKJ,KAoB/D,MAlBc,CACZ,CACEuH,UAAS,GAAAmB,OAAK9B,EAAWkD,UAAhB,KAAApB,OAA6B9B,EAAWmD,eACjDvC,MAAO,CAAEY,MAAOrC,EAAakC,MAAKE,KAAM,IAE1C,CACEZ,UAAS,GAAAmB,OAAK9B,EAAWkD,UAAhB,KAAApB,OAA6B9B,EAAWsD,kBACjD1C,MAAO,CAAEY,MAAOrC,EAAa+E,SAAQ3C,KAAM,IAE7C,CACEZ,UAAS,GAAAmB,OAAK9B,EAAWkD,UAAhB,KAAApB,OAA6B9B,EAAWoD,gBACjDxC,MAAO,CAAEU,OAAQlC,EAAciC,IAAK,EAAGE,SAEzC,CACEZ,UAAS,GAAAmB,OAAK9B,EAAWkD,UAAhB,KAAApB,OAA6B9B,EAAWqD,iBACjDzC,MAAO,CAAEU,OAAQlC,EAAciC,IAAK,EAAG8C,WAEzCC,OAAO,SAACnC,GAAD,OAAOA,KAEf,CAAC3C,EAAaD,EAAgBF,EAAaC,uDC1B1CiF,EAAO,aAUb,SAASC,EAAiBC,EAAiCC,GAAsB,IAAA3I,EACE0I,GAAU,GADZE,EAAA5I,EACvE6I,mBADuE,IAAAD,EACzD,EADyDA,EAAAE,EAAA9I,EACtD+I,oBADsD,IAAAD,EACvC,EADuCA,EAAAE,EAAAhJ,EACpCsD,mBADoC,IAAA0F,EACtB,EADsBA,EAAAC,EAAAjJ,EACnBuD,oBADmB,IAAA0F,EACJ,EADIA,EAEzEC,EAAgBR,GAAUC,EAAWQ,OAAS,EAAIC,OAAOX,iBAAiBC,GAAU,GAC1F,OAAOC,EAAW1K,OAAO,SAACC,EAAOmL,GAAR,OAAAtL,OAAAM,EAAA,EAAAN,CAAA,GAAiCG,EAAjCH,OAAAU,EAAA,EAAAV,CAAA,GAAyCsL,GAX7ClL,EAWuE+K,EAASG,GAV/FC,EAAU,eACK,kBAAVnL,GAAsBA,EAAMoL,MAAMD,GACpCE,WAAWrL,EAAMsL,QAAQH,EAAS,OAEpCnL,KALT,IAAuBA,EACfmL,GAU+G,CACnHT,cACAE,eACAzF,cACAC,iBA2EWmG,MA7Cf,SACEhB,EACAC,GAEc,IADdgB,EACcC,UAAAT,OAAA,QAAA/M,IAAAwN,UAAA,IAAAA,UAAA,GACRC,EAAYxF,iBAAY,MAC9BwF,EAAUtF,QAhCZ,SAAmBmE,GACjB,IAAMoB,EAAYpB,aAAkBqB,YAAcrB,EAASR,KAAKC,UAAUO,GACpEsB,EAAQ3F,iBAAY,MAC1B,OAAOxG,kBAAQ,WACb,MAAsB,oBAAX6K,EACF,CAAEuB,QAASvB,EAAQwB,MAAO1B,GACxBE,aAAkBqB,YACpB,CAAEE,QAAS,kBAAMvB,GAAQwB,MAAO1B,IAEzCwB,EAAMzF,SAAW4F,SAASC,KAAKC,YAAYL,EAAMzF,SACjDyF,EAAMzF,QAAU4F,SAASlF,cAAc,OACvC+E,EAAMzF,QAAQO,UACM,kBAAX4D,EACH4B,YAAI,CAAEhL,SAAU,WAAYkG,KAAM,OAAU,IAAMkD,EAClD4B,YAAIvM,OAAAM,EAAA,EAAAN,CAAA,CAAEuB,SAAU,WAAYkG,KAAM,MAASkD,IACjDyB,SAASC,KAAKG,YAAYP,EAAMzF,SACzB,CACL0F,QAAS,kBAAMD,EAAMzF,SACrB2F,MAAO,WACLF,EAAMzF,SAAW4F,SAASC,KAAKC,YAAYL,EAAMzF,SACjDyF,EAAMzF,QAAU,SAGnB,CAACuF,IASgBU,CAAU9B,GAFhB,IAAA+B,EAIYC,mBAAS,kBAAMjC,EAAiBoB,EAAUtF,QAAQ0F,UAAWtB,KAJzEgC,EAAA5M,OAAAsF,EAAA,EAAAtF,CAAA0M,EAAA,GAIP1F,EAJO4F,EAAA,GAIAC,EAJAD,EAAA,GAKRE,EAAWxG,iBAAY,MAC7BwG,EAAStG,QAAUQ,EAEnB,IAAM+F,EAAYzG,mBA8BlB,OA7BA0G,oBAAU,WACR,KAAIhG,EAAM8D,YAAc,GAAK9D,EAAMgE,aAAe,IAAe,IAAVY,GAuBvD,OAnBA,SAASqB,IAEP,GADAF,EAAUvG,SAAW0G,qBAAqBH,EAAUvG,SAChDsF,EAAUtF,QAAS,CACrB,IAAM2G,EAAgBzC,EAAiBoB,EAAUtF,QAAQ0F,UAAWtB,GACpE,GACEuC,EAAcrC,YAAc,GAC5BqC,EAAcnC,aAAe,GAC7Bb,KAAKC,UAAU0C,EAAStG,WAAa2D,KAAKC,UAAU+C,KAEpDN,EAASM,IACK,IAAVvB,GAEF,YADAE,EAAUtF,QAAQ2F,QAKxBY,EAAUvG,QAAU4G,sBAAsBH,GAE5CA,GACO,WACLF,EAAUvG,SAAW0G,qBAAqBH,EAAUvG,SACpDsF,EAAUtF,QAAQ2F,SAxBlBL,EAAUtF,QAAQ2F,SA0BnB,CAACvB,EAAWyC,aACRrG,GCxEHsG,EAAiB,IA0CRC,MAxBf,SAAAtL,GAA+F,IAAnE2F,EAAmE3F,EAAnE2F,MAAOF,EAA4DzF,EAA5DyF,OAAQ8F,EAAoDvL,EAApDuL,eAAgBC,EAAoCxL,EAApCwL,MACnDC,EAAMpH,iBAAoB,MAD6DqH,EAhB/F,SAA2BC,GACzB,IAAMC,EAAmB/N,kBAAQ,kBAAMqK,KAAKC,UAAUwD,IAAe,CAACA,IAChE7G,EAAYjH,kBAAQ,WACxB,OAAO8N,GAAwC,kBAAjBA,EAA4BrB,YAAIqB,GAAgB,IAC7E,CAACC,IAJ4FC,EAMfnC,EAAiB5E,EAAW,CAC3G,iBACA,kBACA,mBACA,sBAGF,MAAO,CAACA,EAbwF+G,EAMxFC,eANwFD,EAMxEE,gBANwEF,EAMvDG,iBANuDH,EAMrCI,mBAaoBC,CAAkBX,GAHJY,EAAApO,OAAAsF,EAAA,EAAAtF,CAAA2N,EAAA,GAGtFU,EAHsFD,EAAA,GAGlEE,EAHkEF,EAAA,GAGvDG,EAHuDH,EAAA,GAG3CI,EAH2CJ,EAAA,GAG9BK,EAH8BL,EAAA,GAKrF7I,EAAgBoG,EAAiB,kBAAM+B,EAAIlH,SAAWkH,EAAIlH,QAAQkI,eAAe,IAAK9G,GAAtFrC,YALqFL,EAM3DpF,kBAAQ,WACxC,IAAM6O,EAAiB/G,GAASrC,EAChC,MAAO,CAACoJ,EAAgBA,EAAiBJ,EAAaC,IACrD,CAAC5G,EAAOrC,EAAagJ,EAAYC,IATyDnJ,EAAArF,OAAAsF,EAAA,EAAAtF,CAAAkF,EAAA,GAMtF4F,EANsFzF,EAAA,GAMzElB,EANyEkB,EAAA,GAAAM,EAWzD7F,kBAAQ,WAC1C,IAAIkL,EAAiC,kBAAXtD,EAAsBA,EAAS4F,EAEzD,MAAO,CAACtC,EADUA,EAAesD,EAAYG,IAE5C,CAAC/G,EAAQ4G,EAAWG,IAfsEG,EAAA5O,OAAAsF,EAAA,EAAAtF,CAAA2F,EAAA,GAWtFqF,EAXsF4D,EAAA,GAWxEvK,EAXwEuK,EAAA,GAiBvF7H,EAAYjH,kBAAQ,WACxB,MAAO,CAAC2N,EAAOY,EAAoB9B,YAAI,CAAE7E,OAAQsD,KAAiBR,OAAO,SAACnC,GAAD,OAAYA,IAAGK,KAAK,MAC5F,CAAC2F,EAAoBrD,IAExB,MAAO,CAAE0C,MAAK3G,YAAW+D,cAAaE,eAAc7G,aAAYE,gBCjDnDwK,MARf,WAA8C,IAAAf,EACqBnC,EAC/D,CAAE/D,MAAO,IAAKF,OAAQ,IAAKG,SAAU,UACrC,IAFMiD,EADoCgD,EACpChD,YAAaE,EADuB8C,EACvB9C,aAIrB,MAAO,CAACF,EALoCgD,EACTvI,YAIAyF,EALS8C,EACItI,iGCClD,SAASsJ,EAASC,EAAoBC,EAAoBC,GAA0B,IAAAC,EAAAlP,OAAAsF,EAAA,EAAAtF,CAC5C+O,EAD4C,GAC3EI,EAD2ED,EAAA,GAC5DE,EAD4DF,EAAA,GAAAG,EAAArP,OAAAsF,EAAA,EAAAtF,CAEtCgP,EAFsC,GAE3EM,EAF2ED,EAAA,GAEzDE,EAFyDF,EAAA,GAGlF,OAAOvP,kBAAQ,WAKb,IAFA,IAAM0P,EAAQ,GAEL3I,EAAWsI,EAAetI,EAAWuI,EAAcvI,IAAY,CACtE,IAAI4I,EAAU,GACV5I,IAAasI,GACfM,EAAQvS,KAAK,SAEX2J,IAAauI,EAAe,GAC9BK,EAAQvS,KAAK,QAEf,IAAK,IAAIiK,EAAWmI,EAAkBnI,EAAWoI,EAAiBpI,IAAY,CAC5E,IAEIuI,EAAU,GACVvI,IAAamI,GACfI,EAAQxS,KAAK,SAEXiK,IAAaoI,EAAkB,GACjCG,EAAQxS,KAAK,QAR6D,IAAAyS,EAUjDV,EAAepI,EAAUM,EAAUsI,EAASC,GAA/D1R,EAVoE2R,EAUpE3R,QAVoE2R,EAU3D3I,MACjBwI,EAAMtS,KAAKc,IASf,OAAOwR,GACN,CAACL,EAAeC,EAAcE,EAAkBC,EAAiBN,IA+GvDW,MA5Gf,SACElK,EACAD,EACA0J,EACAC,EACAE,EACAC,EACAjN,EACAC,EACA0M,EACA7I,GAEA,IAAMxF,EAAQ,CACZ6G,IAAK/B,EAAYhG,IAAIkB,MACrB0J,OAAQ5E,EAAY9F,KAAKgB,MACzB+G,KAAMlC,EAAe/F,IAAIkB,MACzB2J,MAAO9E,EAAe7F,KAAKgB,MAE3BiP,SAAU,CAAC7M,KAAK8M,IAAIpK,EAAY7E,IAAID,MAAM,GAAIuO,GAAgBnM,KAAK+M,IAAIrK,EAAY7E,IAAID,MAAM,GAAIwO,EAAe,IAChHY,SAAU,CACRhN,KAAK8M,IAAIrK,EAAe5E,IAAID,MAAM,GAAI0O,GACtCtM,KAAK+M,IAAItK,EAAe5E,IAAID,MAAM,GAAI2O,EAAkB,KAStDU,EAAW,CACf,CACErR,IAAK,MACLmI,UAAS,GAAAmB,OAAK9B,EAAW4C,QAAhB,KAAAd,OAA2B9B,EAAW6C,YAAtC,KAAAf,OAAqDgI,IAAOpS,QACrEkJ,MAAO,CAAES,IAAK,GACd+H,MAAOV,EAASlO,EAAM6G,IAAK7G,EAAMoP,SAAUf,IAG7C,CACErQ,IAAK,OACLmI,UAAS,GAAAmB,OAAK9B,EAAW4C,QAAhB,KAAAd,OAA2B9B,EAAW8C,aAAtC,KAAAhB,OAAsDgI,IAAOpS,QACtEkJ,MAAO,CAAEW,KAAM,GACf6H,MAAOV,EAASlO,EAAMiP,SAAUjP,EAAM+G,KAAMsH,IAE9C,CACErQ,IAAK,QACLmI,UAAS,GAAAmB,OAAK9B,EAAW4C,QAAhB,KAAAd,OAA2B9B,EAAW+C,cAAtC,KAAAjB,OAAuDgI,IAAOpS,QACvEkJ,MAAO,CAAEW,KAAMrF,EAAemD,EAAe7F,KAAKJ,KAAMoI,MAAOnC,EAAe7F,KAAKJ,MACnFgQ,MAAOV,EAASlO,EAAMiP,SAAUjP,EAAM2J,MAAO0E,IAE/C,CACErQ,IAAK,WACLmI,UAAS,GAAAmB,OAAK9B,EAAW4C,QAAhB,KAAAd,OAA2B9B,EAAW6C,YAAtC,KAAAf,OAAqD9B,EAAW8C,aAAhE,KAAAhB,OAAgFgI,IAAOpS,QAChGkJ,MAAO,CAAES,IAAK,EAAGE,KAAM,GACvB6H,MAAOV,EAASlO,EAAM6G,IAAK7G,EAAM+G,KAAMsH,IAEzC,CACErQ,IAAK,YACLmI,UAAS,GAAAmB,OAAK9B,EAAW4C,QAAhB,KAAAd,OAA2B9B,EAAW6C,YAAtC,KAAAf,OAAqD9B,EAAW+C,cAAhE,KAAAjB,OAAiFgI,IAAOpS,QACjGkJ,MAAO,CAAES,IAAK,EAAGE,KAAMrF,EAAemD,EAAe7F,KAAKJ,KAAMoI,MAAOnC,EAAe7F,KAAKJ,MAC3FgQ,MAAOV,EAASlO,EAAM6G,IAAK7G,EAAM2J,MAAO0E,IAE1C,CACErQ,IAAK,SACLmI,UAAS,GAAAmB,OAAK9B,EAAW4C,QAAhB,KAAAd,OAA2B9B,EAAWgD,eAAtC,KAAAlB,OAAwDgI,IAAOpS,QACxEkJ,MAAO,CAAES,IAAKlF,EAAgBmD,EAAY9F,KAAKJ,KAAMkI,OAAQhC,EAAY9F,KAAKJ,MAC9EgQ,MAAOV,EAASlO,EAAM0J,OAAQ1J,EAAMoP,SAAUf,IAMhD,CACErQ,IAAK,cACLmI,UAAS,GAAAmB,OAAK9B,EAAW4C,QAAhB,KAAAd,OAA2B9B,EAAWgD,eAAtC,KAAAlB,OAAwD9B,EAAW8C,aAAnE,KAAAhB,OAAmFgI,IAAOpS,QACnGkJ,MAAO,CAAES,IAAKlF,EAAgBmD,EAAY9F,KAAKJ,KAAMmI,KAAM,EAAGD,OAAQhC,EAAY9F,KAAKJ,MACvFgQ,MAAOV,EAASlO,EAAM0J,OAAQ1J,EAAM+G,KAAMsH,IAE5C,CACErQ,IAAK,eACLmI,UAAS,GAAAmB,OAAK9B,EAAW4C,QAAhB,KAAAd,OAA2B9B,EAAWgD,eAAtC,KAAAlB,OAAwD9B,EAAW+C,cAAnE,KAAAjB,OAAoFgI,IAAOpS,QACpGkJ,MAAO,CACLS,IAAKlF,EAAgBmD,EAAY9F,KAAKJ,KACtCmI,KAAMrF,EAAemD,EAAe7F,KAAKJ,KACzCoI,MAAOnC,EAAe7F,KAAKJ,KAC3BkI,OAAQhC,EAAY9F,KAAKJ,MAE3BgQ,MAAOV,EAASlO,EAAM0J,OAAQ1J,EAAM2J,MAAO0E,KAG5CzE,OAAO,SAACnC,GAAD,OAAOA,EAAEmH,MAAMpE,OAAS,IAC/BhD,IAAI,SAACC,GACJ,OAAOrI,OAAAM,EAAA,EAAAN,CAAA,GACFqI,KAIT,MAAO,CACLxK,OAAQ,CACNe,IAAK,SACLmI,UAAWmJ,IAAOC,MAClBnJ,MAAO,CAAEY,MAAOnC,EAAelG,MAAMC,KAAMkI,OAAQhC,EAAYnG,MAAMC,MACrEgQ,MAAOV,EAASlO,EAAMiP,SAAUjP,EAAMoP,SAAUf,IAElDgB,aC1FWG,MAZf,SAAkB3C,EAAkCrH,GAClD,IAAMiK,EAAqBvQ,kBACzB,kBAAME,OAAOC,KAAKmG,GAAYlG,OAAO,SAACC,EAAOvB,GAAR,OAAAoB,OAAAM,EAAA,EAAAN,CAAA,GAAsBG,EAAtBH,OAAAU,EAAA,EAAAV,CAAA,GAA8BpB,EAA9B,IAAAsJ,OAAwC9B,EAAWxH,OAAW,KACnG,CAACwH,IAGH,OAAOtG,kBAAQ,iBAAM,EA9CDwQ,EA8CeD,EA7C5B9D,aAAGgE,EAAA,CACRhP,SAAU,WACViP,UAAW,cAFHxQ,OAAAU,EAAA,EAAAV,CAAAuQ,EAGPD,EAAErI,KAAO,CACRuI,UAAW,aACX3I,SAAU,SACV4I,WAAY,SANNzQ,OAAAU,EAAA,EAAAV,CAAAuQ,EAQPD,EAAE/G,cAAgB,CACjB7B,OAAQ,EACR+I,WAAY,6EAVNzQ,OAAAU,EAAA,EAAAV,CAAAuQ,EAYPD,EAAE5G,iBAAmB,CACpBhC,OAAQ,EACR+I,WAAY,0EAdNzQ,OAAAU,EAAA,EAAAV,CAAAuQ,EAgBPD,EAAE9G,eAAiB,CAClB5B,MAAO,EACP6I,WAAY,4EAlBNzQ,OAAAU,EAAA,EAAAV,CAAAuQ,EAoBPD,EAAE7G,gBAAkB,CACnB7B,MAAO,EACP6I,WAAY,2EAtBNzQ,OAAAU,EAAA,EAAAV,CAAAuQ,EAwBPD,EAAE3G,WAxBK3J,OAAAU,EAAA,EAAAV,CAAA,GAyBLsQ,EAAE/G,cAAgB,CAAEmH,QAAS,KAzBxB1Q,OAAAU,EAAA,EAAAV,CAAAuQ,EA2BPD,EAAExG,cA3BK9J,OAAAU,EAAA,EAAAV,CAAA,GA4BLsQ,EAAE5G,iBAAmB,CAAEgH,QAAS,KA5B3B1Q,OAAAU,EAAA,EAAAV,CAAAuQ,EA8BPD,EAAE1G,YA9BK5J,OAAAU,EAAA,EAAAV,CAAA,GA+BLsQ,EAAE9G,eAAiB,CAAEkH,QAAS,KA/BzB1Q,OAAAU,EAAA,EAAAV,CAAAuQ,EAiCPD,EAAEzG,aAjCK7J,OAAAU,EAAA,EAAAV,CAAA,GAkCLsQ,EAAE7G,gBAAkB,CAAEiH,QAAS,KAlC1BH,KA6CyC9C,GAASlB,YAAIkB,EAAM4C,KAAiB7F,OAAO,SAACnC,GAAD,OAAOA,IAAGK,KAAK,KA9C/G,IAAsB4H,EAAeC,GA8CgF,CACjH9C,EACA4C,KCpDWM,EC+DkD,SAAC9M,GAAU,IAAA6I,EAItEC,mBAAS,CACXiE,aAAa,EACbC,UAAW,EACXC,WAAY,EACZC,wBAAyB5P,EAAgB+E,QACzC8K,0BAA2B7P,EAAgB+E,UAT6B0G,EAAA5M,OAAAsF,EAAA,EAAAtF,CAAA0M,EAAA,GAAAuE,EAAArE,EAAA,GAEtEgE,EAFsEK,EAEtEL,YAAaC,EAFyDI,EAEzDJ,UAAWC,EAF8CG,EAE9CH,WAAYC,EAFkCE,EAElCF,wBAAyBC,EAFSC,EAETD,0BAC/DE,EAHwEtE,EAAA,GAYpEuE,EAAY7K,mBAelB0G,oBAAU,kBAAM,kBAAMmE,EAAU3K,SAAW4K,aAAaD,EAAU3K,WAAU,IAE5E,IAAMJ,EAAa6D,EAAcpG,EAAMuC,YAEjCqH,EAAQ2C,EAASvM,EAAM4J,MAAOrH,GAG9BiL,EAAgB9D,EAAiBvN,OAAAM,EAAA,EAAAN,CAAA,GAAK6D,EAAN,CAAa4J,WAlCuB6D,EA0ChCzC,IA1CgC0C,EAAAvR,OAAAsF,EAAA,EAAAtF,CAAAsR,EAAA,GA0CnEhN,EA1CmEiN,EAAA,GA0CnDhN,EA1CmDgN,EAAA,GA4ClEzN,EAAkDD,EAAlDC,YAAaC,EAAqCF,EAArCE,YAAaC,EAAwBH,EAAxBG,SAAUC,EAAcJ,EAAdI,UAEtCuN,EAAU5N,EAAW5D,OAAAM,EAAA,EAAAN,CAAA,GACtB6D,EADqB,CAGxBM,WAAYkN,EAAclN,WAC1BE,YAAagN,EAAchN,YAC3BC,iBACAC,qBAIAkB,EAQE+L,EARF/L,eACAC,EAOE8L,EAPF9L,YACAV,EAMEwM,EANFxM,YACAC,EAKEuM,EALFvM,aACAM,EAIEiM,EAJFjM,YACAC,EAGEgM,EAHFhM,aACArB,EAEEqN,EAFFrN,WACAE,EACEmN,EADFnN,YAGM5B,EAA8B+O,EAA9B/O,gBAAiBuD,EAAawL,EAAbxL,SAlEiDyL,EAoEpCzL,EAAS9E,EAAS0B,IAAKiO,EAAWE,GApEEW,EAAA1R,OAAAsF,EAAA,EAAAtF,CAAAyR,EAAA,GAoEnEtC,EApEmEuC,EAAA,GAoEpDtC,EApEoDsC,EAAA,GAAAC,EAqE9B3L,EAAS9E,EAAS0E,OAAQkL,EAAYE,GArERY,EAAA5R,OAAAsF,EAAA,EAAAtF,CAAA2R,EAAA,GAqEnErC,EArEmEsC,EAAA,GAqEjDrC,GArEiDqC,EAAA,GAuEpE3C,GAAiB9I,EAAc,CACnC1D,kBACAqB,cACAC,cACAC,WACAC,YACA0C,SAAU9C,EAAM8C,SAChBP,eA9EwEyL,GAiF7CjC,EAC3BlK,EACAD,EACA0J,EACAC,EACAE,EACAC,GACAhK,EACAC,EACAyJ,GACA7I,GAVMvI,GAjFkEgU,GAiFlEhU,OAAQoS,GAjF0D4B,GAiF1D5B,SAaVlS,GAAasM,EAAc3E,EAAaD,EAAgBF,EAAaC,EAAcY,GAUnF0L,GAAkBhS,kBAAQ,WAC9B,MAAO,CACS,IAAd+Q,GAAmBzK,EAAWuD,WACf,IAAfmH,GAAoB1K,EAAWwD,YAC/BiH,GAAa5L,EAAeO,GAAgBY,EAAW0D,cACvDgH,GAAc9L,EAAcO,GAAea,EAAWyD,aACtD+G,EAAcxK,EAAW2D,aAAe3D,EAAW4D,kBAElDQ,OAAO,SAACnC,GAAD,OAAOA,IACdK,KAAK,MAEP,CAACmI,EAAWC,EAAYtL,EAAcP,EAAcM,EAAaP,EAAa4L,EAAaxK,IAS9F,OACE2L,EAAA,qBAAKrE,IAAK2D,EAAc3D,IAAK3G,UAAWsK,EAActK,UAAWC,MAAO,CAAEY,MAAOyJ,EAAcvG,cAE7FiH,EAAA,qBAAKhL,UAAW+K,IACdC,EAAA,qBAAK/K,MAAO,CAAEY,MAAOzD,EAAYuD,OAAQrD,GAAe0C,UAAWmJ,IAAOtS,KAAMoU,SAnHjE,SAACC,GACpBd,EAAU3K,SAAW4K,aAAaD,EAAU3K,SADD,IAAA0L,EAEsBD,EAAME,cAApDC,EAFwBF,EAEnCrB,UAAsCwB,EAFHH,EAETpB,WAC5BwB,EAAS,CACb1B,aAAa,EACbC,UAAWuB,EACXtB,WAAYuB,EACZtB,wBAAyBF,EAAYuB,EAAgBjR,EAAgBoR,SAAWpR,EAAgB+E,QAChG8K,0BAA2BF,EAAauB,EAAiBlR,EAAgBoR,SAAWpR,EAAgB+E,SAEtGgL,EAAUoB,GACVnB,EAAU3K,QAAUgM,WAAW,kBAAMtB,EAAUlR,OAAAM,EAAA,EAAAN,CAAA,GAAKsS,EAAN,CAAc1B,aAAa,MA1BtC,OAmI7BmB,EAAA,qBAAK/K,MAAO,CAAEY,MAAO5C,EAAa0C,OAAQzC,IACvCgL,GAAS7H,IAAI,SAACqK,GAAD,OACZV,EAAA,qBAAKnT,IAAK6T,EAAQ7T,IAAKmI,UAAW0L,EAAQ1L,UAAWC,MAAOyL,EAAQzL,OACjEyL,EAAQjD,SAGbuC,EAAA,qBAAKhL,UAAS,GAAAmB,OAAK9B,EAAW4C,QAAhB,KAAAd,OAA2B9B,EAAWiD,eAAtC,KAAAnB,OAAwDgI,IAAOrS,SAAWA,GAAO2R,SAGlG3L,EAAM6O,WACLX,EAAA,qBAAKhL,UAAWmJ,IAAOnS,WAAYiJ,MAAO,CAAEY,MAAOrC,EAAamC,OAAQlC,IACrEzH,GAAWqK,IAAI,SAACsK,EAAWvV,GAC1B,OAAO4U,EAAA,qBAAKnT,IAAKzB,EAAG4J,UAAW2L,EAAU3L,UAAWC,MAAO0L,EAAU1L,cCtFnF,IACQ2L,EADFC,GACED,EAAW,SAAC/T,EAAawB,GAAd,MAA+C,oBAAVA,EAAuBA,EAAMiN,WAAajN,GACzF,SAACA,GAAD,OAAgB+J,KAAKC,UAAUhK,EAAOuS,KAG/C,SAASE,EAAiBC,EAAQC,GAChC,IAAMlN,EAAO,CACXmN,MAAO,UACPC,UAAW,cACXC,SAAU,cAENC,EAAaP,EAAUE,GAuG7B,OArGsBhT,kBAAQ,WAC5B,IAAMsT,EAAU,SAACzI,GACf,OAAO3K,OAAOC,KAAK0K,GAAQvC,IAAI,SAACiL,GAC9B,MAAO,CAACA,EAAG1I,EAAO0I,OAUhBC,EAAqB,SAACC,EAAQC,GAClC,IAAM7I,EAAS4I,EAAOE,aAAaD,GAAYD,EAASA,EAAOG,QAAP,IAAAxL,OAAmBsL,EAAnB,MACxD,OAAI7I,EACKA,EAAO8I,aAAaD,GAEtB,MA8BHG,EAAiB,SAACC,GACtB,IAAMC,EAAUT,EAAQQ,GAASxL,IAAI,SAAAnG,GAAyB,IAAA6R,EAAA9T,OAAAsF,EAAA,EAAAtF,CAAAiC,EAAA,GAC5D,MAAO,CACL8R,SAF0DD,EAAA,GAG1DE,QAH0DF,EAAA,MAO9D,OAAO,SAAC7B,GAGN4B,EAAQI,QAAQ,SAAC5L,GACf,IAAMsC,EAvCW,SAAC4I,EAAQQ,GAC9B,IAAMpJ,EAAS4I,EAAOW,QAAQH,GAAYR,EAASA,EAAOG,QAAQK,GAElE,GAAIpJ,EAAQ,CACV,IAAI9D,EAAWyM,EAAmB3I,EAAQ,kBACtC7D,EAAcwM,EAAmB3I,EAAQ,qBAE7C,GAAI9D,GAAYC,EAId,MAAO,CACL6D,SACA9D,SALFA,IAAaA,EAMXC,YALFA,IAAgBA,EAMdqN,KALUpB,EAAKlM,GAAUuN,KAc/B,OAAO,KAeYC,CAAepC,EAAMtH,OAAQtC,EAAE0L,UAC1CpJ,GACFtC,EAAE2L,QAAQ/B,EAAOtH,OAQrB2J,EAAUlB,EAAQN,GAAQ5S,OAAO,SAACC,EAADoU,GAAiC,IAAAC,EAAAxU,OAAAsF,EAAA,EAAAtF,CAAAuU,EAAA,GAAxBE,EAAwBD,EAAA,GAAbZ,EAAaY,EAAA,GAC9DE,EAAc7O,EAAK4O,EAAUE,eACnC,OAAID,EACK1U,OAAAM,EAAA,EAAAN,CAAA,GACFG,EADLH,OAAAU,EAAA,EAAAV,CAAA,GAEG0U,EAAcf,EAAeC,KAG3BzT,GACN,IAmBH,OAFAsG,QAAQC,IAAI4N,GACZ7N,QAAQC,IAAI,sBAAuB,mBAC5B4N,GACN,CAACnB,EAAYJ,IAelB,ICrPe6B,EDqP0C,SAAC/Q,GAAU,IAAAgR,EAjMpE,SAAoBhR,GAClB4C,QAAQC,IAAI7C,EAAMiR,SAClB,IAAMA,EAAUhV,kBAAQ,WACtB,OAAQ+D,EAAMiR,SAAW,IACtBtK,OAAO,SAAChD,GAAD,OAAiBA,IAA6B,kBAAXA,GAAyC,kBAAXA,KACxEY,IAAI,SAACZ,GAAD,MAAoC,kBAAXA,EAAsB,CAAEuN,KAAMvN,GAArCxH,OAAAM,EAAA,EAAAN,CAAA,GAAqDwH,KAC3EgD,OAAO,SAAChD,GAAD,OAAiBA,EAAOuN,OAC/B3M,IAAI,SAACZ,GACJ,OAAOxH,OAAAM,EAAA,EAAAN,CAAA,GACFwH,EADL,CAEEwN,OAAiC,oBAAlBxN,EAAOwN,OAAwBxN,EAAOwN,OAAS,SAACb,GAAD,OAAUA,QAG7E,CAACtQ,EAAMiR,UAEJ/Q,EAAcjE,kBAClB,kBAAM,SAACmV,GAAD,OACHH,EAAQG,IAAUH,EAAQG,GAAOrN,QACJ,oBAAtB/D,EAAME,YAA6BF,EAAME,YAAYkR,GAASpR,EAAME,eAC9E,CAAC+Q,EAASjR,EAAME,cAGlB,MAAO,CAAC+Q,EAAS/Q,GA4KcmR,CAAWrR,GADwBsR,EAAAnV,OAAAsF,EAAA,EAAAtF,CAAA6U,EAAA,GAC3DC,EAD2DK,EAAA,GAClDpR,EADkDoR,EAAA,GAE5DpC,EA1KR,SAAiBlP,EAAYiR,GAC3B,IAAM/B,EAAOlP,EAAMkP,KAAK3K,IAAI,SAACb,GAC3B,IAAI6N,EA2BJ,OAzBEA,EADEC,MAAMC,QAAQ/N,GACTuN,EAAQ5U,OACb,SAACqV,EAAMlN,EAAGlL,GAAV,OAAA6C,OAAAM,EAAA,EAAAN,CAAA,GACKuV,EADLvV,OAAAU,EAAA,EAAAV,CAAA,GAEGqI,EAAE0M,KAAOxN,EAAIpK,MAEhB,IAGE6C,OAAAM,EAAA,EAAAN,CAAA,GAAQuH,GAGD,CACX6M,IAAIpU,OAAAM,EAAA,EAAAN,CAAA,GAAMoV,GACVI,IAAKV,EAAQ1M,IAAI,SAACC,GAChB,IAAIjI,EAAQgV,EAAK/M,EAAE0M,MAInB,MAH0B,oBAAf1M,EAAEoN,WACXrV,EAAQiI,EAAEoN,SAASrV,IAEA,kBAAVA,GAAuC,kBAAVA,EAC/BA,EAEF,SAMb,OACE,CACEgU,IAAK,GACLsB,WAAW,EACXF,IAAKV,EAAQ1M,IAAI,SAACC,GAAD,OAAOA,EAAE0M,SAJ9B7M,OAAAlI,OAAAmI,EAAA,EAAAnI,CAMK+S,IAqIQ4C,CAAQ9R,EAAOiR,GAFsCpI,EAQxCC,mBAAS,CAAE9F,SAAU,KAAMC,YAAa,OARA8F,EAAA5M,OAAAsF,EAAA,EAAAtF,CAAA0M,EAAA,GAQ3DkJ,EAR2DhJ,EAAA,GAQpDiJ,EARoDjJ,EAAA,GAShDtG,iBAAOsP,GACfpP,QAAUoP,EACFtP,iBAAOuP,GACfrP,QAAUqP,EAEpB,IAAMC,EAAQxP,mBAERwG,EAAWxG,mBAEXyP,EAAYjW,kBAAQ,WACxB,MAAO,CACLmT,UAAW,CACT+C,2CAA4C,SAAC/D,EAAOgE,GAClDH,EAAMtP,SAAW4K,aAAa0E,EAAMtP,SAEpCsG,EAAStG,QAAQ0P,UAAY,GAE7B,IAAIC,EAAY/J,SAASlF,cAAc,SACvCiP,EAAUC,KAAO,WACjB,IAAIC,EAAYjK,SAASkK,eAAT,oBAAApO,OACM+N,EAAGpP,SADT,0CAGhBsP,EAAU3J,YAAY6J,GACtBvJ,EAAStG,QAAQgG,YAAY2J,KAoCjCjD,SAAU,CACRqD,wBAAyB,SAACtE,EAAOgE,GAG/BnJ,EAAStG,QAAQ0P,UAAY,OAclC,IAEGM,EAAgB3D,EAAiB7S,OAAAM,EAAA,EAAAN,CAAA,GAAK6D,EAAMiP,OAAWiD,GAAahD,GAE1EtM,QAAQC,IAAI,UAEZD,QAAQC,IAAI,UAEZ,IAAM+P,EACJ5S,EAAM4S,cACL,SAACtC,GACA,OAAOA,GAyBLjS,GAAiB2B,EAAM3B,eAAiB,GAAK,EAEnD,OACE6P,EAAA,yBACEA,EAAA,qBAAKrE,IAAKZ,IACViF,EAAA,yBAAM5H,KAAKC,UAAUwL,IACrB7D,EAAA,oBAASyE,EACPzE,EAAA,cAAC2E,EAAD1W,OAAA2W,OAAA,GACM9S,EADN,CAEEG,SAAU+O,EAAK3H,OACflJ,cAAeA,EACf4B,YAAagR,EAAQ1J,OACrBrH,YAAaA,IAlBR,SAAA6S,GAAA,IAAG/P,EAAH+P,EAAG/P,SAAUC,EAAb8P,EAAa9P,YAAaC,EAA1B6P,EAA0B7P,UAAWC,EAArC4P,EAAqC5P,MAArC,OACX+K,EAAA,qBAAKhL,UAAWA,EAAWC,MAAOA,EAAO6P,iBAAgBhQ,EAAUiQ,oBAAmBhQ,GAjBrE,SAACD,EAAUC,GAC5B,IAAMS,EAAMwL,EAAKlM,GACXW,EAASsN,EAAQhO,GACjBqN,EAAO5M,EAAIiO,IAAI1O,GAErB,OAAIS,EAAImO,UACFlO,EAAOuP,OACFvP,EAAOuP,OAAO5C,GAGhBsC,EAAatC,GAEf3M,EAAOwN,OAAOb,EAAM,CAAEtN,WAAUC,gBAMpCkQ,CAAWnQ,EAAUC,SE7W5B7J,EAAAga,EAAAC,EAAA,sBAAAC,IAAAla,EAAAga,EAAAC,EAAA,sBAAAR,IAGA9B,EAAYwC,KAAOzG","file":"static/js/documentation-examples~documentation-introduction~documentation-use-cases~documentation-vertical-scr~be7f5b55.e805337d.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".WindowTableCore-module-root-2KcWH {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  overflow: auto;\\n  -webkit-overflow-scrolling: touch;\\n  will-change: transform;\\n}\\n\\n.WindowTableCore-module-root-2KcWH .WindowTableCore-module-center-2Ifri,\\n.WindowTableCore-module-root-2KcWH .WindowTableCore-module-sticky-_zjC8 {\\n  float: left;\\n}\\n\\n.WindowTableCore-module-root-2KcWH .WindowTableCore-module-center-2Ifri > div,\\n.WindowTableCore-module-root-2KcWH .WindowTableCore-module-sticky-_zjC8 > div {\\n  box-sizing: border-box;\\n  overflow: hidden;\\n}\\n\\n.WindowTableCore-module-root-2KcWH .WindowTableCore-module-sticky-_zjC8 {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  width: 0;\\n  z-index: 1;\\n}\\n\\n.WindowTableCore-module-guidelines-2xctA {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  pointer-events: none;\\n}\\n\\n.WindowTableCore-module-guidelines-2xctA > div {\\n  position: absolute;\\n  box-sizing: border-box;\\n}\\n\\n.WindowTableCore-module-center-2Ifri,\\n.WindowTableCore-module-sticky-_zjC8 {\\n  float: left;\\n}\\n\\n.WindowTableCore-module-sticky-_zjC8 {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  width: 0;\\n  z-index: 1;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/naver/Labs/react-window-table/src/core/components/WindowTableCore/WindowTableCore.module.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,mBAAmB;EACnB,OAAO;EACP,QAAQ;EACR,eAAe;EACf,kCAAkC;EAClC,uBAAuB;CACxB;;AAED;;EAEE,YAAY;CACb;;AAED;;EAEE,uBAAuB;EACvB,iBAAiB;CAClB;;AAED;EACE,yBAAyB;EACzB,iBAAiB;EACjB,SAAS;EACT,WAAW;CACZ;;AAED;EACE,mBAAmB;EACnB,OAAO;EACP,QAAQ;EACR,qBAAqB;CACtB;;AAED;EACE,mBAAmB;EACnB,uBAAuB;CACxB;;AAED;;EAEE,YAAY;CACb;;AAED;EACE,yBAAyB;EACzB,iBAAiB;EACjB,SAAS;EACT,WAAW;CACZ\",\"file\":\"WindowTableCore.module.scss\",\"sourcesContent\":[\".root {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  overflow: auto;\\n  -webkit-overflow-scrolling: touch;\\n  will-change: transform;\\n}\\n\\n.root .center,\\n.root .sticky {\\n  float: left;\\n}\\n\\n.root .center > div,\\n.root .sticky > div {\\n  box-sizing: border-box;\\n  overflow: hidden;\\n}\\n\\n.root .sticky {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  width: 0;\\n  z-index: 1;\\n}\\n\\n.guidelines {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  pointer-events: none;\\n}\\n\\n.guidelines > div {\\n  position: absolute;\\n  box-sizing: border-box;\\n}\\n\\n.center,\\n.sticky {\\n  float: left;\\n}\\n\\n.sticky {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  width: 0;\\n  z-index: 1;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\nexports.locals = {\n\t\"root\": \"WindowTableCore-module-root-2KcWH\",\n\t\"center\": \"WindowTableCore-module-center-2Ifri\",\n\t\"sticky\": \"WindowTableCore-module-sticky-_zjC8\",\n\t\"guidelines\": \"WindowTableCore-module-guidelines-2xctA\"\n};","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--13-1!../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./WindowTableCore.module.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--13-1!../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./WindowTableCore.module.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--13-1!../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../node_modules/sass-loader/lib/loader.js!./WindowTableCore.module.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { useMemo, useEffect, useState, useRef } from 'react';\nimport { css } from 'emotion';\n\nexport enum ItemPosition {\n  PRE = 'pre',\n  MID = 'mid',\n  POST = 'post',\n}\n\nexport type Metadata = {\n  meta: {\n    [key: number]: {\n      size: number;\n      offset: number;\n      localOffset: number;\n    };\n  };\n  pre: {\n    size: number;\n    range: number[];\n  };\n  mid: {\n    size: number;\n    range: number[];\n  };\n  post: {\n    size: number;\n    range: number[];\n  };\n  total: {\n    size: number;\n    count: number;\n  };\n};\n\nfunction useMetadata(count: number, size: number | Function, preCount: number, postCount: number): Metadata {\n  return useMemo(() => {\n    const getSize = typeof size === 'function' ? size : () => size;\n\n    const getPosition = (itemIndex: number) => {\n      if (itemIndex < preCount) {\n        return ItemPosition.PRE;\n      } else if (itemIndex < count - postCount) {\n        return ItemPosition.MID;\n      }\n      return ItemPosition.POST;\n    };\n\n    const meta: any = {};\n    let offset = 0;\n    let position;\n    let startOffset = 0;\n    const sizes = { [ItemPosition.PRE]: 0, [ItemPosition.MID]: 0, [ItemPosition.POST]: 0 };\n    for (let itemIndex = 0; itemIndex < count; itemIndex += 1) {\n      const size = getSize(itemIndex);\n      if (position !== getPosition(itemIndex)) {\n        position = getPosition(itemIndex);\n        startOffset = offset;\n      }\n      const localOffset = offset - startOffset;\n      const offset_ = position === ItemPosition.POST ? localOffset : offset;\n      // left: column.position === ItemPosition.POST ? column.localOffset : column.offset,\n\n      // meta[itemIndex] = { size, offset: offset_, localOffset, position };\n      meta[itemIndex] = { size, offset: offset_, localOffset, offset_: offset };\n      sizes[position] += size;\n      offset += size;\n    }\n    return {\n      meta,\n      pre: { count: preCount, size: sizes[ItemPosition.PRE], range: [0, preCount] },\n      mid: { size: sizes[ItemPosition.MID], range: [preCount, count - postCount] },\n      post: { count: postCount, size: sizes[ItemPosition.POST], range: [count - postCount, count] },\n      total: { size: offset, count, range: [0, count] },\n    };\n  }, [count, size]);\n}\n\nfunction useMetadataFixed(metadata: Metadata, clientSize: number, fillerType: any, minVisibleScrollViewWidth: number) {\n  const totalSize = metadata.total.size;\n  const preSize = metadata.pre.size;\n  const postSize = metadata.post.size;\n  const mass = useMemo(() => {\n    let mass = clientSize - totalSize;\n    if (mass < 0) {\n      mass = -1;\n    }\n    // console.log(minVisibleScrollViewWidth);\n\n    if (preSize + postSize + (minVisibleScrollViewWidth || 0) > clientSize) {\n      mass = 0;\n    }\n    return mass;\n  }, [clientSize, totalSize, preSize, postSize, minVisibleScrollViewWidth]);\n  // mass = clientWidth -\n\n  // console.log( clientWidth , metadata.total.size, metadata.pre.size, metadata.post.size);\n\n  // // console.log(contentWidth, metadata.total.size)\n  return useMemo(() => {\n    if (mass >= 0) {\n      metadata = {\n        meta: Object.keys(metadata.meta).reduce((accum, key: any) => {\n          let value = metadata.meta[key];\n          let _value = {\n            ...value,\n            // @ts-ignore\n            offset: value.offset_,\n            // @ts-ignore\n            localOffset: value.offset_,\n          };\n          return {\n            ...accum,\n            [key]: _value,\n          };\n        }, {}),\n        // @ts-ignore\n        pre: { count: 0, size: 0, range: [0, 0] },\n        // @ts-ignore\n        mid: {\n          ...metadata.total,\n\n          // range: [0, metadata.total.count],\n        },\n        // @ts-ignore\n        post: { count: 0, size: 0, range: [metadata.total.count, 0] },\n        total: metadata.total,\n      };\n\n      if (mass > 0) {\n        if (fillerType === true || fillerType === 'append') {\n          // // console.log(mass, metadata.total.size);\n          const contentSize = metadata.total.size + mass;\n          metadata = {\n            ...metadata,\n            // contentSize,\n\n            meta: {\n              ...metadata.meta,\n              [metadata.total.count]: {\n                size: mass,\n                localOffset: metadata.total.size,\n                offset: metadata.total.size,\n                // @ts-ignore\n                filler: true,\n              },\n            },\n            total: {\n              ...metadata.total,\n              count: metadata.total.count + 1,\n              size: contentSize,\n            },\n            mid: {\n              ...metadata.total,\n              // @ts-ignore\n              count: metadata.total.count + 1,\n              range: [0, metadata.total.count + 1],\n              size: contentSize,\n            },\n          };\n        } else if (fillerType === 'stretch') {\n          const contentSize = metadata.total.size + mass;\n          const lastKey = metadata.total.count - 1;\n          metadata = {\n            ...metadata,\n            meta: {\n              ...metadata.meta,\n              [lastKey]: {\n                ...metadata.meta[lastKey],\n\n                size: metadata.meta[lastKey].size + mass,\n                // localOffset: metadata.total.size,\n                // offset: metadata.total.size,\n                // filler: true,\n              },\n            },\n            total: {\n              ...metadata.total,\n              size: contentSize,\n            },\n            // @ts-ignore\n            mid: {\n              ...metadata.total,\n              size: contentSize,\n            },\n          };\n          // console.log('-=-=-=-=- case 2');\n          // console.log(metadata);\n        }\n        // console.log('-=-=-=-=-');\n        // console.log(metadata);\n      }\n    }\n    return metadata;\n  }, [metadata, mass, fillerType]);\n\n  // return metadata\n}\n\nexport default useMetadata;\n\nexport { useMetadataFixed };\n","import { useMemo } from 'react';\nimport useMetadata, { useMetadataFixed, Metadata, ItemPosition } from './useMetadata';\n\nexport enum ItemType {\n  COLUMN,\n  ROW,\n  // COLUMN = 'column',\n  // ROW = 'row',\n}\n\nexport enum ScrollDirection {\n  FORWARD,\n  BACKWARD,\n  // FORWARD = 'forward',\n  // BACKWARD = 'backward',\n}\n\ntype HelpersProps = {\n  columnCount: number;\n  columnWidth: number | Function;\n  rowCount: number;\n  rowHeight: number | Function;\n\n  fixedTopCount?: number;\n  fixedLeftCount?: number;\n  fixedRightCount?: number;\n  fixedBottomCount?: number;\n  overscanCount?: number;\n\n  innerWidth: number;\n  innerHeight: number;\n  scrollbarWidth: number;\n  scrollbarHeight: number;\n  fillerColumn?: string;\n  fillerRow?: string;\n  minVisibleScrollViewWidth?: number;\n  minVisibleScrollViewHeight?: number;\n};\n\nfunction useRangeHelper({\n  fixedTopCount,\n  fixedBottomCount,\n  fixedLeftCount,\n  fixedRightCount,\n  contentWidth,\n  contentHeight,\n  getItemCount,\n  getItemMetadata,\n\n  getSize,\n}: {\n  fixedTopCount: number;\n  fixedBottomCount: number;\n  fixedLeftCount: number;\n  fixedRightCount: number;\n  contentWidth: number;\n  contentHeight: number;\n  getItemCount: Function;\n  getItemMetadata: Function;\n  getSize: Function;\n}) {\n  const helper2 = useMemo(() => {\n    // console.log({\n    //   fixedTopCount,\n    //   fixedBottomCount,\n    //   fixedLeftCount,\n    //   fixedRightCount,\n    //   contentWidth,\n    //   contentHeight,\n    //   getItemCount,\n    //   getItemMetadata,\n    //   getSize,\n    // }\n\n    // )\n    // binary search\n    const findNearestItem = (itemType: ItemType, offset: number) => {\n      let low = 0;\n      let high = getItemCount(itemType) - 1;\n\n      // if (itemType === ItemType.COLUMN) {\n      //   console.log({\n      //     low,\n      //     high,\n      //   });\n      // }\n      while (low <= high) {\n        const middle = low + Math.floor((high - low) / 2);\n        const currentOffset = getItemMetadata(itemType, middle).offset_;\n        if (currentOffset === offset) {\n          return middle;\n        } else if (currentOffset < offset) {\n          low = middle + 1;\n        } else if (currentOffset > offset) {\n          high = middle - 1;\n        }\n      }\n      // console.log(low);\n      return low > 0 ? low - 1 : 0;\n    };\n\n    const getStartIndex = (itemType: ItemType, offset: number) => {\n      const itemIndex = itemType === ItemType.ROW ? fixedTopCount : fixedLeftCount;\n      const itemMetadata = getItemMetadata(itemType, itemIndex);\n      // if (itemType === ItemType.COLUMN) {\n      //   console.log(itemIndex, offset, itemMetadata.offset);\n      // }\n\n      return findNearestItem(itemType, offset + itemMetadata.offset);\n    };\n\n    const getStopIndex = (itemType: ItemType, startIndex: number, offset: number) => {\n      let maxOffset = (itemType === ItemType.ROW ? contentHeight : contentWidth) + offset;\n      const postfixCount = itemType === ItemType.ROW ? fixedBottomCount : fixedRightCount;\n      if (postfixCount > 0) {\n        // maxOffset -= getSize(itemType, postfixCount * -1);\n        maxOffset -= getSize(itemType, postfixCount * -1);\n      }\n\n      const itemMetadata = getItemMetadata(itemType, startIndex);\n      let currOffset = itemMetadata.offset + itemMetadata.size;\n      let stopIndex = startIndex;\n      const itemCount = getItemCount(itemType);\n      let _currOffset = currOffset;\n      while (stopIndex < itemCount - 1 && currOffset < maxOffset) {\n        stopIndex += 1;\n        currOffset += getItemMetadata(itemType, stopIndex).size;\n      }\n      // if (ItemType.ROW === itemType) {\n      //   console.log('%c-=-=-=-=-=-=-=-=-=-', 'background:red;color:#fff');\n      //   console.log({\n      //     startIndex,\n      //     stopIndex,\n      //     postfixCount,\n      //     _currOffset,\n      //     maxOffset,\n      //     contentHeight,\n      //   });\n      // }\n\n      return stopIndex;\n    };\n\n    // const getOverscanCount = (\n    //   direction: string,\n    //   startIndex: number,\n    //   stopIndex: number,\n    //   minIndex: number,\n    //   maxIndex: number,\n    //   _overscanCount: number,\n    // ) => {\n    //   const overscanBackward = direction === 'backward' ? Math.max(1, _overscanCount) : 1;\n    //   const overscanForward = direction === 'forward' ? Math.max(1, _overscanCount) : 1;\n    //   return {\n    //     overscanStartIndex: Math.max(0, minIndex, startIndex - overscanBackward),\n    //     overscanStopIndex: Math.max(0, Math.min(maxIndex, stopIndex + overscanForward)),\n    //   };\n    // };\n\n    return {\n      getStartIndex,\n      getStopIndex,\n    };\n  }, [\n    fixedTopCount,\n    fixedBottomCount,\n    fixedLeftCount,\n    fixedRightCount,\n    contentWidth,\n    contentHeight,\n    getItemCount,\n    getItemMetadata,\n    getSize,\n  ]);\n\n  return helper2;\n}\n\nfunction useDefaultProps(props: any) {\n  return useMemo(() => {\n    return {\n      fixedTopCount: ~~props.fixedTopCount,\n      fixedLeftCount: ~~props.fixedLeftCount,\n      fixedRightCount: ~~props.fixedRightCount,\n      fixedBottomCount: ~~props.fixedBottomCount,\n      minVisibleScrollViewWidth: ~~props.minVisibleScrollViewWidth,\n      minVisibleScrollViewHeight: ~~props.minVisibleScrollViewHeight,\n      overscanCount: ~~props.overscanCount,\n    };\n  }, [\n    props.fixedTopCount,\n    props.fixedLeftCount,\n    props.fixedRightCount,\n    props.fixedBottomCount,\n    props.minVisibleScrollViewWidth,\n    props.minVisibleScrollViewHeight,\n    props.overscanCount,\n  ]);\n}\n\nfunction useHelpers(props: HelpersProps) {\n  const {\n    columnCount,\n    columnWidth,\n    rowCount,\n    rowHeight,\n    innerWidth: _innerWidth,\n    innerHeight: _innerHeight,\n    scrollbarWidth,\n    scrollbarHeight,\n    fillerColumn,\n    fillerRow,\n  } = props;\n\n  const {\n    fixedTopCount,\n    fixedLeftCount,\n    fixedRightCount,\n    fixedBottomCount,\n    minVisibleScrollViewWidth,\n    minVisibleScrollViewHeight,\n    overscanCount,\n  } = useDefaultProps(props);\n\n  let _columnMetadata = useMetadata(columnCount, columnWidth, fixedLeftCount, fixedRightCount);\n  let _rowMetadata = useMetadata(rowCount, rowHeight, fixedTopCount, fixedBottomCount);\n\n  const scrollWidth = _columnMetadata.total.size;\n  const scrollHeight = _rowMetadata.total.size;\n\n  const [clientWidth, clientHeight, innerWidth, innerHeight] = useMemo(() => {\n    let innerWidth = _innerWidth;\n    let innerHeight = _innerHeight;\n\n    let contentWidth = innerWidth;\n\n    let contentHeight = innerHeight;\n    const scrollbarX = contentWidth < scrollWidth;\n    let scrollbarY = contentHeight < scrollHeight;\n\n    contentWidth -= scrollbarY ? scrollbarWidth : 0;\n    contentHeight -= scrollbarX ? scrollbarHeight : 0;\n\n    // if (scrollHeight < contentHeight) {\n    //   contentHeight = scrollHeight;\n    // }\n\n    if (scrollbarX && !scrollbarY && contentHeight < scrollHeight) {\n      scrollbarY = true;\n      contentWidth -= scrollbarWidth;\n    }\n\n    if (fillerColumn === 'shrink' && scrollWidth < contentWidth) {\n      contentWidth = scrollWidth;\n\n      innerWidth = scrollWidth + (scrollbarY ? scrollbarWidth : 0);\n    }\n    // console.log(scrollHeight, contentHeight);\n    if (fillerRow === 'shrink' && scrollHeight < contentHeight) {\n      contentHeight = scrollHeight;\n\n      innerHeight = scrollHeight + (scrollbarX ? scrollbarHeight : 0);\n    }\n\n    return [contentWidth, contentHeight, innerWidth, innerHeight];\n  }, [_innerWidth, _innerHeight, scrollWidth, scrollHeight, scrollbarWidth, scrollbarHeight, fillerColumn, fillerRow]);\n\n  let columnMetadata = useMetadataFixed(_columnMetadata, clientWidth, fillerColumn, minVisibleScrollViewWidth);\n  let rowMetadata = useMetadataFixed(_rowMetadata, clientHeight, fillerRow, minVisibleScrollViewHeight);\n\n  // minVisibleScrollViewWidth,\n  // minVisibleScrollViewHeight,\n  // let columnMetadata = _columnMetadata;\n  // let rowMetadata = useMetadataFixed(_rowMetadata, clientHeight, false);\n\n  // let rowMetadata = _rowMetadata\n\n  const { getItemMetadata, getItemCount, getSize } = useMemo(() => {\n    const columnCount = columnMetadata.total.count;\n    const rowCount = rowMetadata.total.count;\n    const getItemMetadata = (itemType: ItemType, itemIndex: number) => {\n      return (itemType === ItemType.COLUMN ? columnMetadata : rowMetadata).meta[itemIndex];\n    };\n\n    const getItemCount = (itemType: ItemType) => (itemType === ItemType.ROW ? rowCount : columnCount);\n\n    const getSize = (itemType: ItemType, count: number): number => {\n      const dict = (itemType === ItemType.COLUMN ? columnMetadata : rowMetadata).meta;\n      const itemCount = itemType === ItemType.COLUMN ? columnCount : rowCount;\n      let size = 0;\n      if (count > 0) {\n        for (let itemIndex = 0; itemIndex < count; itemIndex += 1) {\n          size += dict[itemIndex].size;\n        }\n      } else {\n        for (let itemIndex = itemCount - 1; itemIndex >= itemCount + count; itemIndex -= 1) {\n          size += dict[itemIndex].size;\n        }\n      }\n      return size;\n    };\n\n    return {\n      getItemMetadata,\n      getItemCount,\n      getSize,\n    };\n  }, [columnMetadata, rowMetadata]);\n\n  const { getStartIndex, getStopIndex } = useRangeHelper({\n    // @ts-ignore\n    fixedTopCount: rowMetadata.pre.count,\n    // @ts-ignore\n    fixedBottomCount: rowMetadata.post.count,\n    // @ts-ignore\n    fixedLeftCount: columnMetadata.pre.count,\n    // @ts-ignore\n    fixedRightCount: columnMetadata.post.count,\n    // @ts-ignore\n    contentWidth: columnMetadata.contentSize || clientWidth,\n    // @ts-ignore\n    contentHeight: rowMetadata.contentSize || clientHeight,\n    getItemCount,\n    getItemMetadata,\n\n    getSize,\n  });\n\n  // function getRange\n\n  // const overscanCount = 2;\n\n  const _overscanCount = typeof overscanCount === 'number' ? overscanCount : 2;\n\n  const getRange = useMemo(() => {\n    return (itemType: ItemType, offset: number, scrollDirection: ScrollDirection) => {\n      const startIndex = getStartIndex(itemType, offset);\n\n      const stopIndex = getStopIndex(itemType, startIndex, offset);\n      // const scrollDirection === ScrollDirection.FORWARD\n      return [\n        startIndex - (scrollDirection === ScrollDirection.FORWARD ? 0 : _overscanCount),\n\n        stopIndex + (scrollDirection === ScrollDirection.FORWARD ? _overscanCount : 0),\n      ];\n    };\n  }, [getStartIndex, getStopIndex, _overscanCount]);\n\n  return {\n    getItemMetadata,\n    // getItemCount,\n    // getSize,\n    columnMetadata,\n    rowMetadata,\n    scrollWidth,\n    scrollHeight,\n    clientWidth,\n    clientHeight,\n    innerWidth,\n    innerHeight,\n    //     getStartIndex,\n    // getStopIndex,\n    getRange,\n  };\n}\n\nexport default useHelpers;\n","// import { useCachedItem } from \".\";\nimport { createElement, useMemo, useRef } from 'react';\nimport { ItemType } from './useHelpers';\n\nfunction useCachedItem(props: any) {\n  const getItemMetadata = props.getItemMetadata;\n  const { columnCount, columnWidth, rowCount, rowHeight, classNames } = props;\n  const getItemStyle = (rowIndex: number, columnIndex: number) => {\n    const row = getItemMetadata(ItemType.ROW, rowIndex);\n    const column = getItemMetadata(ItemType.COLUMN, columnIndex);\n\n    const style = { position: 'absolute', top: row.offset, height: row.size, left: column.offset, width: column.size };\n\n    if (row.filler || column.filler) {\n      // @ts-ignore\n      style.overflow = 'hidden';\n    }\n\n    return {\n      isFiller: column.filler || row.filler,\n      rowIndex: row.filler ? -1 : rowIndex,\n      columnIndex: column.filler ? -1 : columnIndex,\n      style,\n    };\n  };\n\n  const cached__tmp = useRef<any>({});\n\n  const cached = useMemo(() => {\n    cached__tmp.current = {};\n\n    console.log('%c CACHE CLEARED!!!', 'background:yellow');\n\n    return cached__tmp;\n  }, [columnCount, columnWidth, rowCount, rowHeight, props.children, getItemMetadata]);\n\n  const { children } = props;\n\n  const getItemContent = useMemo(() => {\n    if (typeof children === 'function') {\n      return (rowIndex: number, columnIndex: number, key: string, className: string, style: any, isFiller: boolean) => {\n        // @ts-ignore\n        return createElement(children, {\n          columnIndex,\n          rowIndex,\n          className,\n          key,\n          style,\n          isFiller,\n        });\n      };\n    }\n    return () => null;\n  }, [children]);\n\n  // const getClassName = (rowIndex, colIndex)\n\n  const getCachedStyle = useMemo(() => {\n    return (rowIndex: number, colIndex: number, rowTypes: any, colTypes: any) => {\n      const key = rowIndex + '_' + colIndex;\n      if (!cached.current[key]) {\n        const { style, isFiller, rowIndex: _rowIndex, columnIndex: _colIndex } = getItemStyle(rowIndex, colIndex);\n        const key = rowIndex + '_' + colIndex;\n        const className = [\n          classNames.CELL,\n          // 'cell',\n          ...rowTypes.map((e: string) => 'row-' + e),\n          ...colTypes.map((e: string) => 'col-' + e),\n          rowIndex % 2 == 0 ? classNames.ROW_EVEN : classNames.ROW_ODD,\n          colIndex % 2 == 0 ? classNames.COL_EVEN : classNames.COL_ODD,\n          // colIndex % 2 == 0 ? 'col-even' : 'col-odd',\n        ].join(' ');\n        cached.current[key] = {\n          className,\n          content: getItemContent(_rowIndex, _colIndex, key, className, style, isFiller),\n          style,\n        };\n      }\n      return cached.current[key];\n    };\n  }, [cached.current, getItemContent, getItemMetadata, classNames]);\n\n  return getCachedStyle;\n}\n\nexport default useCachedItem;\n","import { useMemo } from 'react';\nimport { any } from 'prop-types';\n\nexport type ClassNamesProps = {\n  CELL?: string;\n\n  COL_ODD?: string;\n  COL_EVEN?: string;\n  COL_FIRST?: string;\n  COL_LAST?: string;\n\n  ROW_ODD?: string;\n  ROW_EVEN?: string;\n  ROW_FIRST?: string;\n  ROW_LAST?: string;\n\n  SECTION?: string;\n  SECTION_TOP?: string;\n  SECTION_LEFT?: string;\n  SECTION_RIGHT?: string;\n  SECTION_BOTTOM?: string;\n  SECTION_CENTER?: string;\n\n  GUIDELINE?: string;\n  GUIDELINE_TOP?: string;\n  GUIDELINE_LEFT?: string;\n  GUIDELINE_RIGHT?: string;\n  GUIDELINE_BOTTOM?: string;\n\n  // [key: string]: string | StringAnyMap;\n};\n\nexport type ClassNames = {\n  CELL: string;\n\n  COL_ODD: string;\n  COL_EVEN: string;\n  COL_FIRST: string;\n  COL_LAST: string;\n\n  ROW_ODD: string;\n  ROW_EVEN: string;\n  ROW_FIRST: string;\n  ROW_LAST: string;\n\n  SECTION: string;\n  SECTION_TOP: string;\n  SECTION_LEFT: string;\n  SECTION_RIGHT: string;\n  SECTION_BOTTOM: string;\n  SECTION_CENTER: string;\n\n  GUIDELINE: string;\n  GUIDELINE_TOP: string;\n  GUIDELINE_LEFT: string;\n  GUIDELINE_RIGHT: string;\n  GUIDELINE_BOTTOM: string;\n\n  SCROLL_TOP: string;\n  SCROLL_LEFT: string;\n  SCROLL_RIGHT: string;\n  SCROLL_BOTTOM: string;\n\n  IS_SCROLLING: string;\n  IS_NOT_SCROLLING: string;\n\n  [key: string]: string | StringAnyMap;\n};\n\nconst CLASSNAMES = {\n  CELL: 'cell',\n\n  COL_ODD: 'col-odd',\n  COL_EVEN: 'col-even',\n  COL_FIRST: 'col-first',\n  COL_LAST: 'col-last',\n\n  // ROW_ODD: 'row-odd',\n  ROW_ODD: 'row-odd',\n  ROW_EVEN: 'row-even',\n  ROW_FIRST: 'row-first',\n  ROW_LAST: 'row-last',\n\n  SECTION: 'section',\n  SECTION_TOP: 'section-top',\n  SECTION_LEFT: 'section-left',\n  SECTION_RIGHT: 'section-right',\n  SECTION_BOTTOM: 'section-bottom',\n  SECTION_CENTER: 'section-center',\n\n  GUIDELINE: 'guideline',\n  GUIDELINE_TOP: 'guideline-top',\n  GUIDELINE_LEFT: 'guideline-left',\n  GUIDELINE_RIGHT: 'guideline-right',\n  GUIDELINE_BOTTOM: 'guideline-bottom',\n\n  SCROLL_TOP: 'scroll-top',\n  SCROLL_LEFT: 'scroll-left',\n  SCROLL_RIGHT: 'scroll-right',\n  SCROLL_BOTTOM: 'scroll-bottom',\n\n  IS_SCROLLING: 'is-scrolling',\n  IS_NOT_SCROLLING: 'is-not-scrolling',\n\n  // SECTION_TOP: 'section-top',\n  // ROW_EVEN: '',\n};\n\nfunction useClassNames(classNames) {\n  const hash = useMemo(() => {\n    return JSON.stringify(classNames);\n  }, [classNames]);\n\n  return useMemo(() => {\n    return Object.keys(classNames || {}).reduce(\n      (accum, key) => {\n        return {\n          ...accum,\n          [key]: classNames[key],\n        };\n      },\n      { ...CLASSNAMES },\n    );\n    // return JSON.stringify(classNames);\n  }, [hash]);\n}\n\nexport default useClassNames;\n","import { useMemo } from 'react';\nimport { Metadata } from './useMetadata';\n\nfunction useGuidelines(rowMetadata: any, columnMetadata: any, clientWidth: any, clientHeight: any, classNames: any) {\n  return useMemo(() => {\n    const top = rowMetadata.pre.count && rowMetadata.pre.size;\n    const left = columnMetadata.pre.count && columnMetadata.pre.size;\n    const bottom = rowMetadata.post.count && rowMetadata.post.size;\n    const right = columnMetadata.post.count && columnMetadata.post.size;\n\n    const lines = [\n      {\n        className: `${classNames.GUIDELINE} ${classNames.GUIDELINE_TOP}`,\n        style: { width: clientWidth, top, left: 0 },\n      },\n      {\n        className: `${classNames.GUIDELINE} ${classNames.GUIDELINE_BOTTOM}`,\n        style: { width: clientWidth, bottom, left: 0 },\n      },\n      {\n        className: `${classNames.GUIDELINE} ${classNames.GUIDELINE_LEFT}`,\n        style: { height: clientHeight, top: 0, left },\n      },\n      {\n        className: `${classNames.GUIDELINE} ${classNames.GUIDELINE_RIGHT}`,\n        style: { height: clientHeight, top: 0, right },\n      },\n    ].filter((e) => e);\n    return lines;\n  }, [rowMetadata, columnMetadata, clientWidth, clientHeight]);\n}\n\nexport default useGuidelines;\n","import { useRef, useState, useEffect, useMemo } from 'react';\nimport { css } from 'emotion';\n\nconst noop = () => undefined;\n\nfunction pixelToNumber(value?: string) {\n  const pattern = /^([0-9]+)px$/;\n  if (typeof value === 'string' && value.match(pattern)) {\n    return parseFloat(value.replace(pattern, '$1'));\n  }\n  return value;\n}\n\nfunction getComputedStyle(target: HTMLElement | undefined, attributes: string[]) {\n  const { offsetWidth = 0, offsetHeight = 0, clientWidth = 0, clientHeight = 0 } = target || {};\n  const computed: any = target && attributes.length > 0 ? window.getComputedStyle(target) : {};\n  return attributes.reduce((accum, attribute: any) => ({ ...accum, [attribute]: pixelToNumber(computed[attribute]) }), {\n    offsetWidth,\n    offsetHeight,\n    clientWidth,\n    clientHeight,\n  });\n}\n\nfunction useTarget(target?: HTMLElement | StringAnyMap | string | Function) {\n  const signature = target instanceof HTMLElement ? target : JSON.stringify(target);\n  const dummy = useRef<any>(null);\n  return useMemo(() => {\n    if (typeof target === 'function') {\n      return { element: target, clear: noop };\n    } else if (target instanceof HTMLElement) {\n      return { element: () => target, clear: noop };\n    }\n    dummy.current && document.body.removeChild(dummy.current);\n    dummy.current = document.createElement('div');\n    dummy.current.className =\n      typeof target === 'string'\n        ? css({ position: 'absolute', top: -9999 }) + ' ' + target\n        : css({ position: 'absolute', top: -9999, ...target });\n    document.body.appendChild(dummy.current);\n    return {\n      element: () => dummy.current,\n      clear: () => {\n        dummy.current && document.body.removeChild(dummy.current);\n        dummy.current = null;\n      },\n    };\n  }, [signature]);\n}\n\nfunction useComputedStyle(\n  target: HTMLElement | StringAnyMap | string | Function | undefined,\n  attributes: string[],\n  watch = false,\n): StringAnyMap {\n  const targetRef = useRef<any>(null);\n  targetRef.current = useTarget(target);\n\n  const [style, setStyle] = useState(() => getComputedStyle(targetRef.current.element(), attributes));\n  const styleRef = useRef<any>(null);\n  styleRef.current = style;\n\n  const requestId = useRef<number>();\n  useEffect(() => {\n    if (style.offsetWidth > 0 && style.offsetHeight > 0 && watch === false) {\n      targetRef.current.clear();\n      return;\n    }\n    function sizeCheck() {\n      requestId.current && cancelAnimationFrame(requestId.current);\n      if (targetRef.current) {\n        const computedStyle = getComputedStyle(targetRef.current.element(), attributes);\n        if (\n          computedStyle.offsetWidth > 0 &&\n          computedStyle.offsetHeight > 0 &&\n          JSON.stringify(styleRef.current) !== JSON.stringify(computedStyle)\n        ) {\n          setStyle(computedStyle);\n          if (watch === false) {\n            targetRef.current.clear();\n            return;\n          }\n        }\n      }\n      requestId.current = requestAnimationFrame(sizeCheck);\n    }\n    sizeCheck();\n    return () => {\n      requestId.current && cancelAnimationFrame(requestId.current);\n      targetRef.current.clear();\n    };\n  }, [attributes.toString()]);\n  return style;\n}\n\nexport default useComputedStyle;\n","import { useMemo, useRef } from 'react';\nimport { css } from 'emotion';\nimport useComputedStyle from './useComputedStyle';\nimport styles from '../components/WindowTableCore/WindowTableCore.module.scss';\n\ntype StyleProps = {\n  width?: number;\n  height?: number;\n  containerStyle?: object;\n};\n\ntype ContainerInfo = {\n  ref: HTMLElementRef;\n  className: string;\n  offsetWidth: number;\n  offsetHeight: number;\n  innerWidth: number;\n  innerHeight: number;\n};\n\nconst DEFAULT_HEIGHT = 400;\n\nfunction useContainerStyle(objectStyles?: StringAnyMap): [string, number, number, number, number] {\n  const objectStylesHash = useMemo(() => JSON.stringify(objectStyles), [objectStyles]);\n  const className = useMemo(() => {\n    return objectStyles && typeof objectStyles === 'object' ? css(objectStyles) : '';\n  }, [objectStylesHash]);\n\n  const { borderTopWidth, borderLeftWidth, borderRightWidth, borderBottomWidth } = useComputedStyle(className, [\n    'borderTopWidth',\n    'borderLeftWidth',\n    'borderRightWidth',\n    'borderBottomWidth',\n  ]);\n\n  return [className, borderTopWidth, borderLeftWidth, borderRightWidth, borderBottomWidth];\n}\n\nfunction useContainerInfo({ width, height, containerStyle, theme }: StyleProps): ContainerInfo {\n  const ref = useRef<HTMLElement>(null);\n\n  const [containerClassName, borderTop, borderLeft, borderRight, borderBottom] = useContainerStyle(containerStyle);\n\n  const { clientWidth } = useComputedStyle(() => ref.current && ref.current.parentElement, [], !width);\n  const [offsetWidth, innerWidth] = useMemo(() => {\n    const containerWidth = width || clientWidth;\n    return [containerWidth, containerWidth - borderLeft - borderRight];\n  }, [width, clientWidth, borderLeft, borderRight]);\n\n  const [offsetHeight, innerHeight] = useMemo(() => {\n    let offsetHeight = typeof height === 'number' ? height : DEFAULT_HEIGHT;\n    let innerHeight = offsetHeight - borderTop - borderBottom;\n    return [offsetHeight, innerHeight];\n  }, [height, borderTop, borderBottom]);\n\n  const className = useMemo(() => {\n    return [theme, containerClassName, css({ height: offsetHeight })].filter((e: any) => e).join(' ');\n  }, [containerClassName, offsetHeight]);\n\n  return { ref, className, offsetWidth, offsetHeight, innerWidth, innerHeight };\n}\n\nexport default useContainerInfo;\n","import useComputedStyle from './useComputedStyle';\n\nfunction useScrollbarSize(): [number, number] {\n  const { offsetWidth, offsetHeight, clientWidth, clientHeight } = useComputedStyle(\n    { width: 200, height: 200, overflow: 'scroll' },\n    [],\n  );\n  return [offsetWidth - clientWidth, offsetHeight - clientHeight];\n}\n\nexport default useScrollbarSize;\n","import { useMemo } from 'react';\nimport { Metadata, ItemPosition } from './useMetadata';\nimport styles from '../components/WindowTableCore/WindowTableCore.module.scss';\n\nfunction useItems(rowRange: number[], colRange: number[], getCachedStyle: Function) {\n  const [rowStartIndex, rowStopIndex] = rowRange;\n  const [columnStartIndex, columnStopIndex] = colRange;\n  return useMemo(() => {\n    // const\n\n    const items = [];\n\n    for (let rowIndex = rowStartIndex; rowIndex < rowStopIndex; rowIndex++) {\n      let rowType = [];\n      if (rowIndex === rowStartIndex) {\n        rowType.push('first');\n      }\n      if (rowIndex === rowStopIndex - 1) {\n        rowType.push('last');\n      }\n      for (let colIndex = columnStartIndex; colIndex < columnStopIndex; colIndex++) {\n        const key = rowIndex + '_' + colIndex;\n\n        let colType = [];\n        if (colIndex === columnStartIndex) {\n          colType.push('first');\n        }\n        if (colIndex === columnStopIndex - 1) {\n          colType.push('last');\n        }\n        const { content, style } = getCachedStyle(rowIndex, colIndex, rowType, colType);\n        items.push(content);\n\n        //   <div key={key} style={style} className={(rowIndex + colIndex) % 2 ? styles.odd : styles.even}>\n        //     {content}\n        //     {/* {rowIndex}, {colIndex} */}\n        //   </div>,\n        // );\n      }\n    }\n    return items;\n  }, [rowStartIndex, rowStopIndex, columnStartIndex, columnStopIndex, getCachedStyle]);\n}\n\nfunction useSections(\n  rowMetadata: Metadata,\n  columnMetadata: Metadata,\n  rowStartIndex: number,\n  rowStopIndex: number,\n  columnStartIndex: number,\n  columnStopIndex: number,\n  contentWidth: number,\n  contentHeight: number,\n  getCachedStyle: Function,\n  classNames: any,\n) {\n  const range = {\n    top: rowMetadata.pre.range,\n    bottom: rowMetadata.post.range,\n    left: columnMetadata.pre.range,\n    right: columnMetadata.post.range,\n    // middle_v: [rowStartIndex, rowStopIndex + 1],\n    middle_v: [Math.max(rowMetadata.mid.range[0], rowStartIndex), Math.min(rowMetadata.mid.range[1], rowStopIndex + 1)],\n    middle_h: [\n      Math.max(columnMetadata.mid.range[0], columnStartIndex),\n      Math.min(columnMetadata.mid.range[1], columnStopIndex + 1),\n    ],\n    // middle_h: [\n    //   columnStartIndex,\n    //   columnStopIndex + 1,\n\n    // ],\n  };\n\n  const sections = [\n    {\n      key: 'top',\n      className: `${classNames.SECTION} ${classNames.SECTION_TOP} ${styles.sticky}`,\n      style: { top: 0 },\n      items: useItems(range.top, range.middle_h, getCachedStyle),\n    },\n\n    {\n      key: 'left',\n      className: `${classNames.SECTION} ${classNames.SECTION_LEFT} ${styles.sticky}`,\n      style: { left: 0 },\n      items: useItems(range.middle_v, range.left, getCachedStyle),\n    },\n    {\n      key: 'right',\n      className: `${classNames.SECTION} ${classNames.SECTION_RIGHT} ${styles.sticky}`,\n      style: { left: contentWidth - columnMetadata.post.size, width: columnMetadata.post.size },\n      items: useItems(range.middle_v, range.right, getCachedStyle),\n    },\n    {\n      key: 'top-left',\n      className: `${classNames.SECTION} ${classNames.SECTION_TOP} ${classNames.SECTION_LEFT} ${styles.sticky}`,\n      style: { top: 0, left: 0 },\n      items: useItems(range.top, range.left, getCachedStyle),\n    },\n    {\n      key: 'top-right',\n      className: `${classNames.SECTION} ${classNames.SECTION_TOP} ${classNames.SECTION_RIGHT} ${styles.sticky}`,\n      style: { top: 0, left: contentWidth - columnMetadata.post.size, width: columnMetadata.post.size },\n      items: useItems(range.top, range.right, getCachedStyle),\n    },\n    {\n      key: 'bottom',\n      className: `${classNames.SECTION} ${classNames.SECTION_BOTTOM} ${styles.sticky}`,\n      style: { top: contentHeight - rowMetadata.post.size, height: rowMetadata.post.size },\n      items: useItems(range.bottom, range.middle_h, getCachedStyle),\n      // subs: [\n\n      // ]\n    },\n\n    {\n      key: 'bottom-left',\n      className: `${classNames.SECTION} ${classNames.SECTION_BOTTOM} ${classNames.SECTION_LEFT} ${styles.sticky}`,\n      style: { top: contentHeight - rowMetadata.post.size, left: 0, height: rowMetadata.post.size },\n      items: useItems(range.bottom, range.left, getCachedStyle),\n    },\n    {\n      key: 'bottom-right',\n      className: `${classNames.SECTION} ${classNames.SECTION_BOTTOM} ${classNames.SECTION_RIGHT} ${styles.sticky}`,\n      style: {\n        top: contentHeight - rowMetadata.post.size,\n        left: contentWidth - columnMetadata.post.size,\n        width: columnMetadata.post.size,\n        height: rowMetadata.post.size,\n      },\n      items: useItems(range.bottom, range.right, getCachedStyle),\n    },\n  ]\n    .filter((e) => e.items.length > 0)\n    .map((e) => {\n      return {\n        ...e,\n        // className: e.className + ' ' + e.key,\n      };\n    });\n  return {\n    center: {\n      key: 'middle',\n      className: styles.inner,\n      style: { width: columnMetadata.total.size, height: rowMetadata.total.size },\n      items: useItems(range.middle_v, range.middle_h, getCachedStyle),\n    },\n    sections,\n  };\n}\n\nexport default useSections;\n","import { useMemo } from 'react';\nimport { css } from 'emotion';\nimport { ClassNames } from './useClassNames';\n\nexport type ThemeFunction = (classNames: ClassNames) => StringAnyMap;\n\nfunction defaultTheme(_: ClassNames) {\n  return css({\n    position: 'relative',\n    boxSizing: 'border-box',\n    [_.CELL]: {\n      boxSizing: 'border-box',\n      overflow: 'hidden',\n      background: '#fff',\n    },\n    [_.GUIDELINE_TOP]: {\n      height: 5,\n      background: 'linear-gradient(to bottom, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0) 100%)',\n    },\n    [_.GUIDELINE_BOTTOM]: {\n      height: 5,\n      background: 'linear-gradient(to top, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0) 100%)',\n    },\n    [_.GUIDELINE_LEFT]: {\n      width: 5,\n      background: 'linear-gradient(to right, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0) 100%)',\n    },\n    [_.GUIDELINE_RIGHT]: {\n      width: 5,\n      background: 'linear-gradient(to left, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0) 100%)',\n    },\n    [_.SCROLL_TOP]: {\n      [_.GUIDELINE_TOP]: { opacity: 0 },\n    },\n    [_.SCROLL_BOTTOM]: {\n      [_.GUIDELINE_BOTTOM]: { opacity: 0 },\n    },\n    [_.SCROLL_LEFT]: {\n      [_.GUIDELINE_LEFT]: { opacity: 0 },\n    },\n    [_.SCROLL_RIGHT]: {\n      [_.GUIDELINE_RIGHT]: { opacity: 0 },\n    },\n  });\n}\n\nfunction useTheme(theme: ThemeFunction | undefined, classNames: ClassNames) {\n  const dotClassNames: any = useMemo(\n    () => Object.keys(classNames).reduce((accum, key) => ({ ...accum, [key]: `.${classNames[key]}` }), {}),\n    [classNames],\n  );\n\n  return useMemo(() => [defaultTheme(dotClassNames), theme && css(theme(dotClassNames))].filter((e) => e).join(' '), [\n    theme,\n    dotClassNames,\n  ]);\n}\n\nexport default useTheme;\n","import WindowTableCore from './WindowTableCore';\n\nexport default WindowTableCore;\n","import * as React from 'react';\n// import PropTypes from 'prop-types';\nimport { Fragment, FunctionComponent, useEffect, useMemo, SyntheticEvent, useState, useRef } from 'react';\nimport { css } from 'emotion';\nimport cx from 'classnames';\nimport {\n  useCachedItem,\n  useClassNames,\n  useGuidelines,\n  useHelpers,\n  useContainerInfo,\n  useScrollbarSize,\n  useSections,\n  useTheme,\n} from '../../hooks';\nimport { ItemType, ScrollDirection } from '../../hooks/useHelpers';\nimport { ClassNames } from '../../hooks/useClassNames';\nimport { ThemeFunction } from '../../hooks/useTheme';\n\nimport styles from './WindowTableCore.module.scss';\n\ntype ScrollEvent = SyntheticEvent<HTMLDivElement>;\n\ntype WindowTableCoreProps = {\n  scrollTop?: number;\n  scrollLeft?: number;\n  width?: number;\n  height?: number;\n  columnCount: number;\n  columnWidth: number | Function;\n  rowCount: number;\n  rowHeight: number | Function;\n\n  fixedTopCount?: number;\n  fixedLeftCount?: number;\n  fixedRightCount?: number;\n  fixedBottomCount?: number;\n  overscanCount?: number;\n\n  fillerColumn?: 'none' | 'append' | 'stretch' | 'shrink';\n  fillerRow?: 'none' | 'append' | 'stretch' | 'shrink';\n  /** 스크롤되는 뷰포트 너비가 특정값 이하로 떨어지면 fixedColumn 이 무효화된다. */\n  minVisibleScrollViewWidth: number;\n  minVisibleScrollViewHeight: number;\n\n  containerStyle?: any;\n  guideline?: boolean;\n\n  classNames?: ClassNames;\n  theme?: ThemeFunction;\n\n  // maxScrollY?: number\n  // maxScrollX?: number\n\n  // cellStyle?: string;\n\n  // columns: array\n\n  // containerStyle?: string;\n  // guidelineStyle?: Function;\n};\n\n// const IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\nconst IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nconst WindowTableCore: FunctionComponent<WindowTableCoreProps> = (props) => {\n  const [\n    { isScrolling, scrollTop, scrollLeft, verticalScrollDirection, horizontalScrollDirection },\n    setScroll,\n  ] = useState({\n    isScrolling: false,\n    scrollTop: 0,\n    scrollLeft: 0,\n    verticalScrollDirection: ScrollDirection.FORWARD,\n    horizontalScrollDirection: ScrollDirection.FORWARD,\n  });\n\n  const timeoutID = useRef<NodeJS.Timeout>();\n  const handleScroll = (event: ScrollEvent) => {\n    timeoutID.current && clearTimeout(timeoutID.current);\n    const { scrollTop: nextScrollTop, scrollLeft: nextScrollLeft } = event.currentTarget;\n    const scroll = {\n      isScrolling: true,\n      scrollTop: nextScrollTop,\n      scrollLeft: nextScrollLeft,\n      verticalScrollDirection: scrollTop > nextScrollTop ? ScrollDirection.BACKWARD : ScrollDirection.FORWARD,\n      horizontalScrollDirection: scrollLeft > nextScrollLeft ? ScrollDirection.BACKWARD : ScrollDirection.FORWARD,\n    };\n    setScroll(scroll);\n    timeoutID.current = setTimeout(() => setScroll({ ...scroll, isScrolling: false }), IS_SCROLLING_DEBOUNCE_INTERVAL);\n  };\n\n  useEffect(() => () => timeoutID.current && clearTimeout(timeoutID.current), []);\n\n  const classNames = useClassNames(props.classNames);\n\n  const theme = useTheme(props.theme, classNames);\n\n  // console.log('T H E M E : ', theme);\n  const containerInfo = useContainerInfo({ ...props, theme });\n\n  // console.log(classNames);\n\n  // console.log(containerInfo);\n\n  // const { offsetWidth, offsetHeight } = container;\n\n  const [scrollbarWidth, scrollbarHeight] = useScrollbarSize();\n\n  const { columnCount, columnWidth, rowCount, rowHeight } = props;\n\n  const helpers = useHelpers({\n    ...props,\n\n    innerWidth: containerInfo.innerWidth,\n    innerHeight: containerInfo.innerHeight,\n    scrollbarWidth,\n    scrollbarHeight,\n  });\n\n  const {\n    columnMetadata,\n    rowMetadata,\n    scrollWidth,\n    scrollHeight,\n    clientWidth,\n    clientHeight,\n    innerWidth,\n    innerHeight,\n  } = helpers;\n\n  const { getItemMetadata, getRange } = helpers;\n\n  const [rowStartIndex, rowStopIndex] = getRange(ItemType.ROW, scrollTop, verticalScrollDirection);\n  const [columnStartIndex, columnStopIndex] = getRange(ItemType.COLUMN, scrollLeft, horizontalScrollDirection);\n\n  const getCachedStyle = useCachedItem({\n    getItemMetadata,\n    columnCount,\n    columnWidth,\n    rowCount,\n    rowHeight,\n    children: props.children,\n    classNames,\n  });\n\n  const { center, sections } = useSections(\n    rowMetadata,\n    columnMetadata,\n    rowStartIndex,\n    rowStopIndex,\n    columnStartIndex,\n    columnStopIndex,\n    clientWidth,\n    clientHeight,\n    getCachedStyle,\n    classNames,\n  );\n\n  const guidelines = useGuidelines(rowMetadata, columnMetadata, clientWidth, clientHeight, classNames);\n\n  // {\"scrollTop\":3417,\"scrollLeft\":0,\"clientHeight\":283,\"scrollHeight\":3700}\n\n  // console.log(guidelines);\n\n  // console.log(columnMetadata);\n\n  //eturn null;\n\n  const statusClassName = useMemo(() => {\n    return [\n      scrollTop === 0 && classNames.SCROLL_TOP,\n      scrollLeft === 0 && classNames.SCROLL_LEFT,\n      scrollTop >= scrollHeight - clientHeight && classNames.SCROLL_BOTTOM,\n      scrollLeft >= scrollWidth - clientWidth && classNames.SCROLL_RIGHT,\n      isScrolling ? classNames.IS_SCROLLING : classNames.IS_NOT_SCROLLING,\n    ]\n      .filter((e) => e)\n      .join(' ');\n    // return classNames;\n  }, [scrollTop, scrollLeft, clientHeight, scrollHeight, clientWidth, scrollWidth, isScrolling, classNames]);\n\n  // const statusClassName = useMemo(() => {\n  //   const classNames_ = [\n  //     isScrolling ? classNames.IS_SCROLLING : classNames.IS_NOT_SCROLLING,\n\n  //   ]\n  // }, [classNames, isScrolling, scrollClassName])\n\n  return (\n    <div ref={containerInfo.ref} className={containerInfo.className} style={{ width: containerInfo.offsetWidth }}>\n      {/* <pre>{JSON.stringify({ scrollTop, scrollLeft, clientHeight, scrollHeight })}</pre> */}\n      <div className={statusClassName}>\n        <div style={{ width: innerWidth, height: innerHeight }} className={styles.root} onScroll={handleScroll}>\n          <div style={{ width: scrollWidth, height: scrollHeight }}>\n            {sections.map((section) => (\n              <div key={section.key} className={section.className} style={section.style}>\n                {section.items}\n              </div>\n            ))}\n            <div className={`${classNames.SECTION} ${classNames.SECTION_CENTER} ${styles.center}`}>{center.items}</div>\n          </div>\n        </div>\n        {props.guideline && (\n          <div className={styles.guidelines} style={{ width: clientWidth, height: clientHeight }}>\n            {guidelines.map((guideline, i) => {\n              return <div key={i} className={guideline.className} style={guideline.style} />;\n            })}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default WindowTableCore;\n","import * as React from 'react';\n\n// import PropTypes from 'prop-types';\n\nimport { Fragment, FunctionComponent, useEffect, useMemo, SyntheticEvent, useState, useRef } from 'react';\nimport WindowTableCore from '../WindowTableCore';\n// import { css } from 'emotion';\n// import { useCachedItem, useGuidelines, useHelpers, useContainerInfo, useScrollbarSize, useSections } from '../../hooks';\n// import { ItemType, ScrollDirection } from '../../hooks/useHelpers';\n\nimport styles from './WindowTable.module.scss';\n\ntype ScrollEvent = SyntheticEvent<HTMLDivElement>;\n\ntype WindowTableProps = {\n  scrollTop?: number;\n  scrollLeft?: number;\n  width?: number;\n  height?: number;\n\n  columns?: any;\n  columnCount: number;\n  columnWidth: number | Function;\n\n  rows?: any;\n  rowCount: number;\n  rowHeight: number | Function;\n\n  fixedTopCount?: number;\n  fixedLeftCount?: number;\n  fixedRightCount?: number;\n  fixedBottomCount?: number;\n  overscanCount?: number;\n\n  fillerColumn?: 'none' | 'append' | 'stretch' | 'shrink';\n  fillerRow?: 'none' | 'append' | 'stretch' | 'shrink';\n  /** 스크롤되는 뷰포트 너비가 특정값 이하로 떨어지면 fixedColumn 이 무효화된다. */\n  minVisibleScrollViewWidth: number;\n  minVisibleScrollViewHeight: number;\n\n  containerStyle?: any;\n  guideline?: boolean;\n\n  // maxScrollY?: number\n  // maxScrollX?: number\n\n  // cellStyle?: string;\n\n  // columns: array\n\n  // containerStyle?: string;\n  // guidelineStyle?: Function;\n};\n\nfunction useColumns(props: any) {\n  console.log(props.columns);\n  const columns = useMemo(() => {\n    return (props.columns || [])\n      .filter((column: any) => column && (typeof column === 'string' || typeof column === 'object'))\n      .map((column: any) => (typeof column === 'string' ? { name: column } : { ...column }))\n      .filter((column: any) => column.name)\n      .map((column) => {\n        return {\n          ...column,\n          render: typeof column.render === 'function' ? column.render : (data) => data,\n        };\n      });\n  }, [props.columns]);\n\n  const columnWidth = useMemo(\n    () => (index: number) =>\n      (columns[index] && columns[index].width) ||\n      (typeof props.columnWidth === 'function' ? props.columnWidth(index) : props.columnWidth),\n    [columns, props.columnWidth],\n  );\n\n  return [columns, columnWidth];\n}\n\nfunction useRows(props: any, columns) {\n  const rows = props.rows.map((row) => {\n    let _row;\n    if (Array.isArray(row)) {\n      _row = columns.reduce(\n        (prev, e, i) => ({\n          ...prev,\n          [e.name]: row[i],\n        }),\n        {},\n      );\n    } else {\n      _row = { ...row };\n    }\n\n    const data = {\n      org: { ..._row },\n      arr: columns.map((e) => {\n        let value = _row[e.name];\n        if (typeof e.getValue === 'function') {\n          value = e.getValue(value);\n        }\n        if (typeof value === 'string' || typeof value === 'number') {\n          return value;\n        }\n        return '-';\n      }),\n    };\n\n    return data;\n  });\n  return [\n    {\n      org: {},\n      _isHeader: true,\n      arr: columns.map((e) => e.name),\n    },\n    ...rows,\n  ];\n}\n\nconst serialize = (() => {\n  const replacer = (key: string, value: any) => (typeof value === 'function' ? value.toString() : value);\n  return (value: any) => JSON.stringify(value, replacer);\n})();\n\nfunction useEventHandlers(events, rows) {\n  const dict = {\n    click: 'onClick',\n    mouseover: 'onMouseOver',\n    mouseout: 'onMouseOut',\n  };\n  const eventsHash = serialize(events);\n\n  const eventHandlers = useMemo(() => {\n    const entries = (target) => {\n      return Object.keys(target).map((k) => {\n        return [k, target[k]];\n      });\n    };\n\n    // props.events\n    // console.log('%c-=-=-=-=-=-=-=-=-', 'background:orange');\n    // console.log();\n\n    // console.log();\n\n    const getAttrFromClosest = (source, attrName) => {\n      const target = source.getAttribute(attrName) ? source : source.closest(`[${attrName}]`);\n      if (target) {\n        return target.getAttribute(attrName);\n      }\n      return null;\n    };\n\n    const getEventTarget = (source, selector) => {\n      const target = source.matches(selector) ? source : source.closest(selector);\n\n      if (target) {\n        let rowIndex = getAttrFromClosest(target, 'data-row-index');\n        let columnIndex = getAttrFromClosest(target, 'data-column-index');\n\n        if (rowIndex && columnIndex) {\n          rowIndex = ~~rowIndex;\n          columnIndex = ~~columnIndex;\n          const row = rows[rowIndex].org;\n          return {\n            target,\n            rowIndex,\n            columnIndex,\n            data: row,\n            // data: rows[row]\n          };\n        }\n      }\n      // if (target) {\n      //   return target;\n      //   // return target.matches(selector);\n      // }\n      return null;\n    };\n\n    const handlerFactory = (details) => {\n      const handles = entries(details).map(([selector, handler]) => {\n        return {\n          selector,\n          handler,\n        };\n      });\n\n      return (event) => {\n        // console.log(event.target);\n        // console.log(handles);\n        handles.forEach((e) => {\n          const target = getEventTarget(event.target, e.selector);\n          if (target) {\n            e.handler(event, target);\n          }\n\n          // console.log(target);\n        });\n      };\n    };\n\n    let allEvts = entries(events).reduce((accum, [eventName, details]) => {\n      const handlerName = dict[eventName.toLowerCase()];\n      if (handlerName) {\n        return {\n          ...accum,\n          [handlerName]: handlerFactory(details),\n        };\n      }\n      return accum;\n    }, {});\n\n    // allEvts = entries(events).reduce((accum, [eventName, details]) => {\n    //   const handlerName = dict[eventName.toLowerCase()];\n    //   if (handlerName) {\n    //     return {\n    //       ...accum,\n    //       [handlerName]: handlerFactory(details),\n    //       // [handlerName]: [\n    //       //   ...(accum[handlerName] || []),\n    //       //   ...handlerFactory(details),\n    //       // ],\n    //     };\n    //   }\n    //   return accum;\n    // }, allEvts);\n\n    console.log(allEvts);\n    console.log('%c-=-=-=-=-=-=-=-=-', 'background:blue');\n    return allEvts;\n  }, [eventsHash, rows]);\n\n  return eventHandlers;\n}\n\n// function useHandle(callback) {\n//   const handle = useRef();\n//   handle.current = callback;\n//   return (...args) => {\n//     if (typeof handle.current === 'function') {\n//       handle.current(...args);\n//     }\n//   };\n// }\n\nconst WindowTable: FunctionComponent<WindowTableProps> = (props) => {\n  const [columns, columnWidth] = useColumns(props);\n  const rows = useRows(props, columns);\n  // return <pre>{JSON.stringify(rows, null, 2)}</pre>;\n  // const render\n  // const render = (data, columnIndex) => {\n  //   // columns[columnIndex].render\n  // }\n  const [hover, setHover] = useState({ rowIndex: null, columnIndex: null });\n  const currHover = useRef(hover);\n  currHover.current = hover;\n  const handleRef = useRef(setHover);\n  handleRef.current = setHover;\n\n  const timer = useRef();\n\n  const styleRef = useRef();\n\n  const ownEvents = useMemo(() => {\n    return {\n      mouseover: {\n        '.cell[data-row-index][data-column-index]': (event, ui) => {\n          timer.current && clearTimeout(timer.current);\n          // console.log('%cmouseover', 'background:orange');\n          styleRef.current.innerHTML = '';\n\n          var styleNode = document.createElement('style');\n          styleNode.type = 'text/css';\n          var styleText = document.createTextNode(\n            `[data-row-index=\"${ui.rowIndex}\"] { background:#e9eaeb !important } `,\n          );\n          styleNode.appendChild(styleText);\n          styleRef.current.appendChild(styleNode);\n          // // browser detection (based on prototype.js)\n          // if(!!(window.attachEvent && !window.opera)) {\n          //      styleNode.styleSheet.cssText = 'span { color: rgb(255, 0, 0); }';\n          // } else {\n          //      var styleText = document.createTextNode('span { color: rgb(255, 0, 0); } ');\n          //      styleNode.appendChild(styleText);\n          // }\n          //     var css = 'h1 { background: red; }',\n          //     head = document.head || document.getElementsByTagName('head')[0],\n          //     style = document.createElement('style');\n\n          // head.appendChild(style);\n\n          // style.type = 'text/css';\n          // if (style.styleSheet){\n          //   // This is required for IE8 and below.\n          //   style.styleSheet.cssText = css;\n          // } else {\n          //   style.appendChild(document.createTextNode(css));\n          // }\n\n          // style.appendChild(document.createTextNode(css));\n          // window._cnt1 = (window._cnt1 || 0);\n          // console.log('hover', window._cnt1++)\n          // if (currHover.current.ho)\n          // if (currHover.curren)\n          // styleRef.current.inner\n          // const _ = currHover.current\n          // const { rowIndex, columnIndex } = ui;\n          // if (_.rowIndex !== rowIndex || _.columnIndex !== columnIndex) {\n          //   handleRef.current({ rowIndex, columnIndex });\n          // }\n          // console.log(ui);\n        },\n      },\n      mouseout: {\n        '.cell[data-row-index]': (event, ui) => {\n          // timer.current && clearTimeout(timer.current);\n          // console.log('%cmouseout', 'background:blue');\n          styleRef.current.innerHTML = '';\n\n          // timer.current = setTimeout(() => {\n          //   // const _ = currHover.current\n          //   // if (_.rowIndex !== null || _.columnIndex !== null ) {\n          //     handleRef.current({ rowIndex: null, columnIndex: null });\n          //   // }\n          // }, 100);\n\n          // window._cnt2 = (window._cnt2 || 0);\n          // console.log('out', window._cnt2++)\n        },\n      },\n    };\n  }, []);\n\n  const eventHandlers = useEventHandlers({ ...props.events, ...ownEvents }, rows);\n\n  console.log('>>>>>>');\n  // console.log(eventsHash);\n  console.log('<<<<<<');\n\n  const renderHeader =\n    props.renderHeader ||\n    ((data) => {\n      return data;\n    });\n\n  const renderCell = (rowIndex, columnIndex) => {\n    const row = rows[rowIndex];\n    const column = columns[columnIndex];\n    const data = row.arr[columnIndex];\n\n    if (row._isHeader) {\n      if (column.header) {\n        return column.header(data);\n      }\n      // return data;\n      return renderHeader(data);\n    }\n    return column.render(data, { rowIndex, columnIndex });\n    // if (rowIndex)\n  };\n\n  const Cell = ({ rowIndex, columnIndex, className, style }) => (\n    <div className={className} style={style} data-row-index={rowIndex} data-column-index={columnIndex}>\n      {renderCell(rowIndex, columnIndex)}\n    </div>\n  );\n\n  const fixedTopCount = (props.fixedTopCount || 0) + 1;\n\n  return (\n    <div>\n      <div ref={styleRef} />\n      <pre>{JSON.stringify(hover)}</pre>\n      <div {...eventHandlers}>\n        <WindowTableCore\n          {...props}\n          rowCount={rows.length}\n          fixedTopCount={fixedTopCount}\n          columnCount={columns.length}\n          columnWidth={columnWidth}\n        >\n          {Cell}\n        </WindowTableCore>\n      </div>\n    </div>\n  );\n};\n\nexport default WindowTable;\n","import WindowTable from './WindowTable';\n\nexport default WindowTable;\n","import WindowTable from './components/WindowTable';\nimport WindowTableCore from './components/WindowTableCore';\n\nWindowTable.Core = WindowTableCore;\n\nexport { WindowTable, WindowTableCore };\n"],"sourceRoot":""}